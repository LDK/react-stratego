(self.webpackChunkreact_stratego=self.webpackChunkreact_stratego||[]).push([[387],{7348:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var o=n(7294),r=n(5697),a=n.n(r),i=n(7540),s=n(5975);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(m,e);var t,n,r,u,h,d=(u=m,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(u);if(h){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=d.call(this,e)).state={formOpen:!1,userInput:"",passInput:""},t.id="login-modal",t.sendLogin=t.sendLogin.bind(f(t)),t.updateUserInput=t.updateUserInput.bind(f(t)),t.updatePassInput=t.updatePassInput.bind(f(t)),e.app.LoginMenu=f(t),t}return t=m,r=[{key:"propTypes",get:function(){return{app:a().object,loginCallback:a().func}}}],(n=[{key:"updateUserInput",value:function(e){this.setState({userInput:e.target.value})}},{key:"updatePassInput",value:function(e){this.setState({passInput:e.target.value})}},{key:"sendLogin",value:function(e){e.preventDefault();var t=this.props,n=t.app,o=this.state,r=this,a={username:o.userInput,password:o.passInput};window.fetch(n.gameServer+"login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){e.text().then((function(e){var o=JSON.parse(e);o.error?"no-user"==o.error&&n.LoginMenu.setState({formOpen:!0}):(r.setState({formOpen:!1}),t.loginCallback&&t.loginCallback(o))}))})).catch((function(e){(0,s.fF)("Request failed",e)}))}},{key:"render",value:function(){if(!this.state.formOpen)return null;var e=this.state,t=o.createElement("form",{onSubmit:this.sendLogin,className:"h-100"},o.createElement("h3",{className:"mt-0"},"LOGIN"),o.createElement("input",{type:"text",value:e.userInput,onChange:this.updateUserInput,size:"22",className:"mr-2",name:"username",placeholder:"Username"}),o.createElement("br",null),o.createElement("input",{type:"password",value:e.passInput,onChange:this.updatePassInput,name:"password",size:"22",className:"mr-2",placeholder:"Password"}),o.createElement("br",null),o.createElement("input",{type:"submit",value:"Sign In",size:"3",className:"go-button text-white float-right",onClick:this.sendLogin,disabled:!e.userInput||!e.passInput}));return o.createElement(i.Z,{parentMenu:this,content:t,styles:{backgroundColor:"var(--dark)"},additionalClasses:"text-white"})}}])&&c(t.prototype,n),r&&c(t,r),m}(o.Component)},7540:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var o=n(7294),r=n(5697),a=n.n(r),i=n(6347);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(d,e);var t,n,r,s,y,h=(s=d,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(s);if(y){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=h.call(this,e)).onKeyDown=t.onKeyDown.bind(p(t)),t.closeForm=t.closeForm.bind(p(t)),t}return t=d,r=[{key:"propTypes",get:function(){return{parentMenu:a().object,content:a().any,styles:a().object,height:a().string,width:a().string,additionalClasses:a().string}}}],(n=[{key:"closeForm",value:function(){this.props.parentMenu.closeForm?this.props.parentMenu.closeForm():this.props.parentMenu.setState({formOpen:!1})}},{key:"onKeyDown",value:function(e){if(e.keyCode)switch(e.keyCode){case this.props.parentMenu.props.app.Config.KeyCodes.esc:this.closeForm()}}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.parentMenu.props.app,r={};return e.styles&&(r=e.styles),o.createElement(i.Z,{id:e.parentMenu.id,app:n,content:t,height:e.height||"medium",width:e.width||"medium",open:e.parentMenu.state.formOpen,closeButton:!0,closeCallback:this.closeForm,onKeyDown:this.onKeyDown,styles:r,additionalClasses:"p-md-5 "+e.additionalClasses||0})}}])&&u(t.prototype,n),r&&u(t,r),d}(o.Component)},6347:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var o=n(7294),r=n(5697),a=n.n(r);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(h,e);var t,n,r,i,f,y=(i=h,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(i);if(f){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=y.call(this,e)).state={},t.onKeyDown=t.onKeyDown.bind(l(t)),e.app.activeModal=l(t),t}return t=h,r=[{key:"propTypes",get:function(){return{app:a().object,open:a().bool,onKeyDown:a().func,closeButton:a().any,content:a().element,closeCallback:a().func,styles:a().object,height:a().string,width:a().string,additionalClasses:a().string,id:a().any}}}],(n=[{key:"onKeyDown",value:function(e){if(this.props.onKeyDown)return this.props.onKeyDown(e)}},{key:"componentDidMount",value:function(){this.modalContainer.focus()}},{key:"componentWillUnmount",value:function(){this.props.app.activeModal=null}},{key:"render",value:function(){var e=this,t=this.props.content,n=this.props,r=n.additionalClasses+" modal-wrapper";n.height&&(r+=" height-"+n.height),n.width&&(r+=" width-"+n.width);var a="";n.closeButton&&(a=o.createElement("a",{className:"close-button button",onClick:n.closeCallback},"X"));var i={};return n.styles&&(i=n.styles),o.createElement("section",{id:n.id||null,ref:function(t){e.modalContainer=t},className:"modal-container "+(n.open?" open":""),onKeyDown:this.onKeyDown},o.createElement("div",{className:"modal-overlay"}),o.createElement("div",{className:r,style:i},a,t))}}])&&s(t.prototype,n),r&&s(t,r),h}(o.Component)},2703:(e,t,n)=>{"use strict";var o=n(414);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,i){if(i!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);