(self.webpackChunkreact_stratego=self.webpackChunkreact_stratego||[]).push([[27],{5181:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var n=r(7294),a=r(5697),s=r.n(a),l=r(361),i=r.n(l);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(y,e);var t,r,a,l,o,b=(l=y,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(l);if(o){var r=m(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return u(this,e)});function y(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(t=b.call(this,e)).callback=t.callback.bind(f(t)),t.afterCallback=t.afterCallback.bind(f(t)),t.renderSelect=t.renderSelect.bind(f(t)),t.renderList=t.renderList.bind(f(t)),t.linkList=t.linkList.bind(f(t)),t.state={value:e.value||null,label:e.label||"",items:e.items||[]},e.parentObj&&e.refName?e.parentObj[e.refName]=f(t):e.parentObj&&(e.parentObj.dataBrowser=f(t)),t}return t=y,a=[{key:"propTypes",get:function(){return{value:s().any,id:s().string,view:s().string,label:s().string,labelClass:s().string,className:s().string,items:s().array,links:s().array,parentObj:s().object,refName:s().string,beforeText:s().string,callback:s().func,afterCallback:s().func,afterArgKey:s().any,onSelect:s().func,emptyOption:s().string,deleteEmpty:s().bool,afterLinks:s().array,afterKeys:s().object,afterKeysSep:s().string,afterParentheses:s().bool,beforeLinks:s().bool,hideIfEmpty:s().bool,disabled:s().bool,emptyVal:s().any,additionalClasses:s().string}}}],(r=[{key:"callback",value:function(e){var t;t=e.target.hasAttribute("data-key")?e.target.getAttribute("data-key"):e.target.value,this.setState({value:t}),this.props.callback&&this.props.callback(t),this.render()}},{key:"afterCallback",value:function(){}},{key:"renderSelect",value:function(e,t){var r=this,a=this.callback,s=this.props.items;this.props.emptyOption&&(s=i()(this.props.items)).unshift({id:null,name:this.props.emptyOption});var l=s.map((function(e,t){return n.createElement("option",{key:t,value:e.id||r.props.emptyVal||"",onClick:r.props.onSelect||null},e.name)}));return n.createElement("div",{className:t},n.createElement("label",{className:this.props.labelClass},this.state.label),n.createElement("select",{onChange:a,id:e,value:this.state.value||""},l))}},{key:"linkList",value:function(e,t,r,a){var s=this.props[e].map((function(e,s){return n.createElement("li",{key:s,className:e.className},n.createElement("a",{className:"anchor underline",onClick:function(){return e.action(e.argKey?r[a][e.argKey]:t)}},e.label))}));return n.createElement("div",{className:"d-inline"},"[",n.createElement("ul",{className:"link-list px-1"},s),"]")}},{key:"renderList",value:function(e,t){var r,a=this,s=this.callback,l=this.props.items;if(this.props.deleteEmpty)for(var i in l)l[i].name||delete l[i];if(this.props.afterLinks)r=l.map((function(e,t){return n.createElement("li",{key:t},e.name," ",a.linkList("afterLinks",e.id,l,t))}));else if(this.props.beforeLinks)r=l.map((function(e,t){return n.createElement("li",{key:t},e.name," ",a.linkList("beforeLinks",e.id))}));else if(this.props.beforeText)r=l.map((function(e,t){return n.createElement("li",{key:t},a.props.beforeText," ",e.name)}));else{var o=null;for(var c in r=[],l){var p=l[c];if(p.buttons){var u=p.buttons.map((function(e,t){return n.createElement("li",{key:t,className:"mr-3 py-2"},n.createElement("a",{className:"button","data-type":e.type||"undefined","data-mode":e.mode||"undefined","data-id":e.id||"null",onClick:e.action},e.label))}));o=n.createElement("div",{"data-key":p.id},n.createElement("span",null,p.name),n.createElement("ul",{className:"item-buttons"},u))}else{var f="";if(this.props.afterKeys){var m=this.props.afterKeysSep||",",b=0;for(var y in this.props.afterKeys)p[y]&&(b&&(f+=m+" "),b++,f+=this.props.afterKeys[y].replace("%this%",p[y])+" "),f=f.trim();if(f.length){var d="",h="";this.props.afterParentheses&&(d="(",h=")"),f=" "+d+f+h}}o=n.createElement("a",{onClick:p.onSelect||s,className:"anchor underline","data-key":p.id},p.name),this.props.afterCallback&&(f=n.createElement("a",{className:"anchor",onClick:function(){return a.props.afterCallback(p[a.props.afterArgKey||y])}},f))}r.push(n.createElement("li",{key:c,className:p.className},o,f))}}return n.createElement("div",{className:t,id:this.props.id||null},n.createElement("label",{className:this.props.labelClass},this.state.label),n.createElement("ul",{id:e},r))}},{key:"render",value:function(){var e,t=this.props.view||"list",r="dataBrowser"+(this.props.disabled?" disabled ":" ")+(this.props.className||""),n=this.props.id||"";if(this.props.hideIfEmpty&&(!this.props.items||!this.props.items.length))return null;switch(t){case"select":e=this.renderSelect(n,r);break;case"list":default:e=this.renderList(n,r)}return e}}])&&c(t.prototype,r),a&&c(t,a),y}(n.Component)}}]);