(self.webpackChunkreact_stratego=self.webpackChunkreact_stratego||[]).push([[834],{6644:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var a=n(7294),o=n(5697),r=n.n(o),s=n(7540),l=n(361),i=n.n(l),u=n(5975),c=n(682),p=n(4051),f=n(1555);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(g,e);var t,n,o,l,m,w=(l=g,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(l);if(m){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function g(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),t=w.call(this,e);var n=e.app.state.currentUser;return t.state={formOpen:!1,usernameInput:n.username||"",passInput:"",newPassInput:"",newPass2Input:"",emailInput:n.email||"",invitesAvailable:"false"!=n.invite_available,randomAvailable:"false"!=n.random_available},t.id="user-options-modal",t.saveOptions=t.saveOptions.bind(h(t)),t.updateUsernameInput=t.updateUsernameInput.bind(h(t)),t.updatePassInput=t.updatePassInput.bind(h(t)),t.updateNewPassInput=t.updateNewPassInput.bind(h(t)),t.updateNewPass2Input=t.updateNewPass2Input.bind(h(t)),t.updateEmailInput=t.updateEmailInput.bind(h(t)),t.toggleInvitesAvailable=t.toggleInvitesAvailable.bind(h(t)),t.toggleRandomAvailable=t.toggleRandomAvailable.bind(h(t)),e.app.UserOptions=h(t),t}return t=g,o=[{key:"propTypes",get:function(){return{app:r().object}}}],(n=[{key:"updateUsernameInput",value:function(e){this.setState({usernameInput:e.target.value})}},{key:"updateEmailInput",value:function(e){this.setState({emailInput:e.target.value})}},{key:"updatePassInput",value:function(e){this.setState({passInput:e.target.value})}},{key:"updateNewPassInput",value:function(e){this.setState({newPassInput:e.target.value})}},{key:"updateNewPass2Input",value:function(e){this.setState({newPass2Input:e.target.value})}},{key:"toggleInvitesAvailable",value:function(){this.setState({invitesAvailable:!this.state.invitesAvailable})}},{key:"toggleRandomAvailable",value:function(){this.setState({randomAvailable:!this.state.randomAvailable})}},{key:"saveOptions",value:function(e){e.preventDefault();var t=this.props.app,n=this,a=i()(t.state.currentUser),o=a.user_id,r=a.userKey,s=this.state;if(o&&r&&(!s.newPassInput||s.newPassInput==s.newPass2Input)){a.email=s.emailInput;var l={username:s.usernameInput,email:s.emailInput,random_available:!!s.randomAvailable,invite_available:!!s.invitesAvailable,user_id:o,userKey:r};s.newPassInput&&(l.current_password=s.passInput,l.new_password=s.newPassInput,a.password=s.newPassInput),window.fetch(t.gameServer+"save_user_options",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(e){var o=!1;e.text().then((function(e){var r=JSON.parse(e);r.error||(r.username&&(o=!0,a.username=r.username),r.email&&(o=!0,a.email=r.email),r.password&&(o=!0,a.password=r.password),r.invite_available&&(o=!0,a.invite_available=r.invite_available),r.random_available&&(o=!0,a.random_available=r.random_available),o&&t.setCurrentUser(a),n.setState({formOpen:!1}))}))})).catch((function(e){(0,u.fF)("Request failed",e)}))}}},{key:"render",value:function(){if(!this.state.formOpen)return null;var e=this.state,t=a.createElement("form",{onSubmit:this.saveOptions},a.createElement("h3",{className:"mt-0"},"USER OPTIONS"),a.createElement("p",{className:""},"Edit your user profile:"),a.createElement("hr",null),a.createElement(c.Z,{fluid:!0,className:"px-0"},a.createElement(p.Z,{noGutters:!0},a.createElement(f.Z,{xs:12,md:4},a.createElement("label",{className:"mr-2 small"},"Username:")),a.createElement(f.Z,{xs:12,md:8,className:"mb-2"},a.createElement("input",{type:"text",value:e.usernameInput,onChange:this.updateUsernameInput,size:"24",className:"small",name:"username",placeholder:"Username"})),a.createElement(f.Z,{xs:12,md:4},a.createElement("label",{className:"mr-2 small"},"E-mail Address:")),a.createElement(f.Z,{xs:12,md:8},a.createElement("input",{type:"text",value:e.emailInput,onChange:this.updateEmailInput,size:"24",className:"small",name:"email",placeholder:"E-mail Address"})),a.createElement(f.Z,{xs:12,className:"mt-4"},a.createElement("label",{className:"small d-block"},"Current Password (Required if changing password):"),a.createElement("input",{type:"password",onChange:this.updatePassInput,name:"current-password",size:"24",className:"small",placeholder:"Current Password"})),a.createElement(f.Z,{xs:12,className:"mt-3"},a.createElement("label",{className:"small d-block"},"New Password (Both fields must match):"),a.createElement("input",{type:"password",value:e.newPassInput,onChange:this.updateNewPassInput,name:"new-password",size:"24",className:"small"}),a.createElement("br",null),a.createElement("input",{type:"password",value:e.newPass2Input,onChange:this.updateNewPass2Input,name:"new-password2",size:"24",className:"small"})),a.createElement(f.Z,{xs:12,className:"mt-4"},a.createElement("input",{type:"checkbox",name:"invite-available",checked:e.invitesAvailable,onChange:this.toggleInvitesAvailable}),a.createElement("label",{className:"small ml-2"},"Available for Game Invites")),a.createElement(f.Z,{xs:12},a.createElement("input",{type:"checkbox",name:"random-available",checked:e.randomAvailable,onChange:this.toggleRandomAvailable}),a.createElement("label",{className:"small ml-2"},"Available to Be Selected As Random Opponent")),a.createElement(f.Z,{xs:12,className:"mt-4"},a.createElement("input",{type:"submit",value:"Save Options",size:"3",className:"go-button text-white float-right",onClick:this.saveOptions,disabled:!e.usernameInput||!e.emailInput||e.newPassInput&&e.newPassInput!=e.newPass2Input})))));return a.createElement(s.Z,{parentMenu:this,height:"auto",width:"small",content:t,styles:{backgroundColor:"var(--blue-light)"},additionalClasses:"text-black"})}}])&&d(t.prototype,n),o&&d(t,o),g}(a.Component)},7540:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var a=n(7294),o=n(5697),r=n.n(o),s=n(6347);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(y,e);var t,n,o,l,m,d=(l=y,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(l);if(m){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function y(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(t=d.call(this,e)).onKeyDown=t.onKeyDown.bind(p(t)),t.closeForm=t.closeForm.bind(p(t)),t}return t=y,o=[{key:"propTypes",get:function(){return{parentMenu:r().object,content:r().any,styles:r().object,height:r().string,width:r().string,additionalClasses:r().string}}}],(n=[{key:"closeForm",value:function(){this.props.parentMenu.closeForm?this.props.parentMenu.closeForm():this.props.parentMenu.setState({formOpen:!1})}},{key:"onKeyDown",value:function(e){if(e.keyCode)switch(e.keyCode){case this.props.parentMenu.props.app.Config.KeyCodes.esc:this.closeForm()}}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.parentMenu.props.app,o={};return e.styles&&(o=e.styles),a.createElement(s.Z,{id:e.parentMenu.id,app:n,content:t,height:e.height||"medium",width:e.width||"medium",open:e.parentMenu.state.formOpen,closeButton:!0,closeCallback:this.closeForm,onKeyDown:this.onKeyDown,styles:o,additionalClasses:"p-md-5 "+e.additionalClasses||0})}}])&&i(t.prototype,n),o&&i(t,o),y}(a.Component)},6347:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var a=n(7294),o=n(5697),r=n.n(o);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(d,e);var t,n,o,s,f,m=(s=d,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(s);if(f){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=m.call(this,e)).state={},t.onKeyDown=t.onKeyDown.bind(c(t)),e.app.activeModal=c(t),t}return t=d,o=[{key:"propTypes",get:function(){return{app:r().object,open:r().bool,onKeyDown:r().func,closeButton:r().any,content:r().element,closeCallback:r().func,styles:r().object,height:r().string,width:r().string,additionalClasses:r().string,id:r().any}}}],(n=[{key:"onKeyDown",value:function(e){if(this.props.onKeyDown)return this.props.onKeyDown(e)}},{key:"componentDidMount",value:function(){this.modalContainer.focus()}},{key:"componentWillUnmount",value:function(){this.props.app.activeModal=null}},{key:"render",value:function(){var e=this,t=this.props.content,n=this.props,o=n.additionalClasses+" modal-wrapper";n.height&&(o+=" height-"+n.height),n.width&&(o+=" width-"+n.width);var r="";n.closeButton&&(r=a.createElement("a",{className:"close-button button",onClick:n.closeCallback},"X"));var s={};return n.styles&&(s=n.styles),a.createElement("section",{id:n.id||null,ref:function(t){e.modalContainer=t},className:"modal-container "+(n.open?" open":""),onKeyDown:this.onKeyDown},a.createElement("div",{className:"modal-overlay"}),a.createElement("div",{className:o,style:s},r,t))}}])&&l(t.prototype,n),o&&l(t,o),d}(a.Component)},1555:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var a=n(2122),o=n(9756),r=n(4184),s=n.n(r),l=n(7294),i=n(6792),u=["bsPrefix","className","as"],c=["xl","lg","md","sm","xs"],p=l.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,p=e.as,f=void 0===p?"div":p,m=(0,o.Z)(e,u),d=(0,i.vE)(n,"col"),y=[],b=[];return c.forEach((function(e){var t,n,a,o=m[e];if(delete m[e],"object"==typeof o&&null!=o){var r=o.span;t=void 0===r||r,n=o.offset,a=o.order}else t=o;var s="xs"!==e?"-"+e:"";t&&y.push(!0===t?""+d+s:""+d+s+"-"+t),null!=a&&b.push("order"+s+"-"+a),null!=n&&b.push("offset"+s+"-"+n)})),y.length||y.push(d),l.createElement(f,(0,a.Z)({},m,{ref:t,className:s().apply(void 0,[r].concat(y,b))}))}));p.displayName="Col";const f=p}}]);