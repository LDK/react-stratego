(self.webpackChunkreact_stratego=self.webpackChunkreact_stratego||[]).push([[387],{7348:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>h});var o=n(7294),r=n(5697),i=n.n(r),u=n(7540),a=n(5975);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(b,t);var e,n,r,s,h,d=(s=b,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(s);if(h){var n=y(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return p(this,t)});function b(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b),(e=d.call(this,t)).state={formOpen:!1,userInput:"",passInput:""},e.id="login-modal",e.sendLogin=e.sendLogin.bind(f(e)),e.updateUserInput=e.updateUserInput.bind(f(e)),e.updatePassInput=e.updatePassInput.bind(f(e)),t.app.LoginMenu=f(e),e}return e=b,r=[{key:"propTypes",get:function(){return{app:i().object,loginCallback:i().func}}}],(n=[{key:"updateUserInput",value:function(t){this.setState({userInput:t.target.value})}},{key:"updatePassInput",value:function(t){this.setState({passInput:t.target.value})}},{key:"sendLogin",value:function(t){t.preventDefault();var e=this.props,n=e.app,o=this.state,r=this,i={username:o.userInput,password:o.passInput};window.fetch(n.gameServer+"login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(t){t.text().then((function(t){var o=JSON.parse(t);o.error?"no-user"==o.error&&n.LoginMenu.setState({formOpen:!0}):(r.setState({formOpen:!1}),e.loginCallback&&e.loginCallback(o))}))})).catch((function(t){(0,a.fF)("Request failed",t)}))}},{key:"render",value:function(){if(!this.state.formOpen)return null;var t=this.state,e=o.createElement("form",{onSubmit:this.sendLogin,className:"h-100"},o.createElement("h3",{className:"mt-0"},"LOGIN"),o.createElement("input",{type:"text",value:t.userInput,onChange:this.updateUserInput,size:"22",className:"mr-2",name:"username",placeholder:"Username"}),o.createElement("br",null),o.createElement("input",{type:"password",value:t.passInput,onChange:this.updatePassInput,name:"password",size:"22",className:"mr-2",placeholder:"Password"}),o.createElement("br",null),o.createElement("input",{type:"submit",value:"Sign In",size:"3",className:"go-button text-white float-right",onClick:this.sendLogin,disabled:!t.userInput||!t.passInput}));return o.createElement(u.Z,{parentMenu:this,content:e,styles:{backgroundColor:"var(--dark)"},additionalClasses:"text-white"})}}])&&c(e.prototype,n),r&&c(e,r),b}(o.Component)},7540:(t,e,n)=>{"use strict";n.d(e,{Z:()=>y});var o=n(7294),r=n(5697),i=n.n(r),u=n(6347);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(d,t);var e,n,r,a,y,h=(a=d,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=f(a);if(y){var n=f(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return l(this,t)});function d(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),(e=h.call(this,t)).onKeyDown=e.onKeyDown.bind(p(e)),e.closeForm=e.closeForm.bind(p(e)),e}return e=d,r=[{key:"propTypes",get:function(){return{parentMenu:i().object,content:i().any,styles:i().object,height:i().string,width:i().string,additionalClasses:i().string}}}],(n=[{key:"closeForm",value:function(){this.props.parentMenu.closeForm?this.props.parentMenu.closeForm():this.props.parentMenu.setState({formOpen:!1})}},{key:"onKeyDown",value:function(t){if(t.keyCode)switch(t.keyCode){case this.props.parentMenu.props.app.Config.KeyCodes.esc:this.closeForm()}}},{key:"render",value:function(){var t=this.props,e=t.content,n=t.parentMenu.props.app,r={};return t.styles&&(r=t.styles),o.createElement(u.Z,{id:t.parentMenu.id,app:n,content:e,height:t.height||"medium",width:t.width||"medium",open:t.parentMenu.state.formOpen,closeButton:!0,closeCallback:this.closeForm,onKeyDown:this.onKeyDown,styles:r,additionalClasses:"p-md-5 "+t.additionalClasses||0})}}])&&s(e.prototype,n),r&&s(e,r),d}(o.Component)},6347:(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var o=n(7294),r=n(5697),i=n.n(r);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}const f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(h,t);var e,n,r,u,f,y=(u=h,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(u);if(f){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return c(this,t)});function h(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(e=y.call(this,t)).state={},e.onKeyDown=e.onKeyDown.bind(l(e)),t.app.activeModal=l(e),e}return e=h,r=[{key:"propTypes",get:function(){return{app:i().object,open:i().bool,onKeyDown:i().func,closeButton:i().any,content:i().element,closeCallback:i().func,styles:i().object,height:i().string,width:i().string,additionalClasses:i().string,id:i().any}}}],(n=[{key:"onKeyDown",value:function(t){if(this.props.onKeyDown)return this.props.onKeyDown(t)}},{key:"componentDidMount",value:function(){this.modalContainer.focus()}},{key:"componentWillUnmount",value:function(){this.props.app.activeModal=null}},{key:"render",value:function(){var t=this,e=this.props.content,n=this.props,r=n.additionalClasses+" modal-wrapper";n.height&&(r+=" height-"+n.height),n.width&&(r+=" width-"+n.width);var i="";n.closeButton&&(i=o.createElement("a",{className:"close-button button",onClick:n.closeCallback},"X"));var u={};return n.styles&&(u=n.styles),o.createElement("section",{id:n.id||null,ref:function(e){t.modalContainer=e},className:"modal-container "+(n.open?" open":""),onKeyDown:this.onKeyDown},o.createElement("div",{className:"modal-overlay"}),o.createElement("div",{className:r,style:u},i,e))}}])&&a(e.prototype,n),r&&a(e,r),h}(o.Component)}}]);