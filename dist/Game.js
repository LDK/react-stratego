(self.webpackChunkreact_stratego=self.webpackChunkreact_stratego||[]).push([[167,27],{5181:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var r=a(7294),n=a(5697),o=a.n(n),i=a(361),s=a.n(i);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(g,e);var t,a,n,i,p,f=(i=g,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(i);if(p){var a=d(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return m(this,e)});function g(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(t=f.call(this,e)).callback=t.callback.bind(u(t)),t.afterCallback=t.afterCallback.bind(u(t)),t.renderSelect=t.renderSelect.bind(u(t)),t.renderList=t.renderList.bind(u(t)),t.linkList=t.linkList.bind(u(t)),t.state={value:e.value||null,label:e.label||"",items:e.items||[]},e.parentObj&&e.refName?e.parentObj[e.refName]=u(t):e.parentObj&&(e.parentObj.dataBrowser=u(t)),t}return t=g,n=[{key:"propTypes",get:function(){return{value:o().any,id:o().string,view:o().string,label:o().string,labelClass:o().string,className:o().string,items:o().array,links:o().array,parentObj:o().object,refName:o().string,beforeText:o().string,callback:o().func,afterCallback:o().func,afterArgKey:o().any,onSelect:o().func,emptyOption:o().string,deleteEmpty:o().bool,afterLinks:o().array,afterKeys:o().object,afterKeysSep:o().string,afterParentheses:o().bool,beforeLinks:o().bool,hideIfEmpty:o().bool,disabled:o().bool,emptyVal:o().any,additionalClasses:o().string}}}],(a=[{key:"callback",value:function(e){var t;t=e.target.hasAttribute("data-key")?e.target.getAttribute("data-key"):e.target.value,this.setState({value:t}),this.props.callback&&this.props.callback(t),this.render()}},{key:"afterCallback",value:function(){}},{key:"renderSelect",value:function(e,t){var a=this,n=this.callback,o=this.props.items;this.props.emptyOption&&(o=s()(this.props.items)).unshift({id:null,name:this.props.emptyOption});var i=o.map((function(e,t){return r.createElement("option",{key:t,value:e.id||a.props.emptyVal||"",onClick:a.props.onSelect||null},e.name)}));return r.createElement("div",{className:t},r.createElement("label",{className:this.props.labelClass},this.state.label),r.createElement("select",{onChange:n,id:e,value:this.state.value||""},i))}},{key:"linkList",value:function(e,t,a,n){var o=this.props[e].map((function(e,o){return r.createElement("li",{key:o,className:e.className},r.createElement("a",{className:"anchor underline",onClick:function(){return e.action(e.argKey?a[n][e.argKey]:t)}},e.label))}));return r.createElement("div",{className:"d-inline"},"[",r.createElement("ul",{className:"link-list px-1"},o),"]")}},{key:"renderList",value:function(e,t){var a,n=this,o=this.callback,i=this.props.items;if(this.props.deleteEmpty)for(var s in i)i[s].name||delete i[s];if(this.props.afterLinks)a=i.map((function(e,t){return r.createElement("li",{key:t},e.name," ",n.linkList("afterLinks",e.id,i,t))}));else if(this.props.beforeLinks)a=i.map((function(e,t){return r.createElement("li",{key:t},e.name," ",n.linkList("beforeLinks",e.id))}));else if(this.props.beforeText)a=i.map((function(e,t){return r.createElement("li",{key:t},n.props.beforeText," ",e.name)}));else{var p=null;for(var c in a=[],i){var l=i[c];if(l.buttons){var m=l.buttons.map((function(e,t){return r.createElement("li",{key:t,className:"mr-3 py-2"},r.createElement("a",{className:"button","data-type":e.type||"undefined","data-mode":e.mode||"undefined","data-id":e.id||"null",onClick:e.action},e.label))}));p=r.createElement("div",{"data-key":l.id},r.createElement("span",null,l.name),r.createElement("ul",{className:"item-buttons"},m))}else{var u="";if(this.props.afterKeys){var d=this.props.afterKeysSep||",",f=0;for(var g in this.props.afterKeys)l[g]&&(f&&(u+=d+" "),f++,u+=this.props.afterKeys[g].replace("%this%",l[g])+" "),u=u.trim();if(u.length){var h="",b="";this.props.afterParentheses&&(h="(",b=")"),u=" "+h+u+b}}p=r.createElement("a",{onClick:l.onSelect||o,className:"anchor underline","data-key":l.id},l.name),this.props.afterCallback&&(u=r.createElement("a",{className:"anchor",onClick:function(){return n.props.afterCallback(l[n.props.afterArgKey||g])}},u))}a.push(r.createElement("li",{key:c,className:l.className},p,u))}}return r.createElement("div",{className:t,id:this.props.id||null},r.createElement("label",{className:this.props.labelClass},this.state.label),r.createElement("ul",{id:e},a))}},{key:"render",value:function(){var e,t=this.props.view||"list",a="dataBrowser"+(this.props.disabled?" disabled ":" ")+(this.props.className||""),r=this.props.id||"";if(this.props.hideIfEmpty&&(!this.props.items||!this.props.items.length))return null;switch(t){case"select":e=this.renderSelect(r,a);break;case"list":default:e=this.renderList(r,a)}return e}}])&&c(t.prototype,a),n&&c(t,n),g}(r.Component)},4772:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var r=a(7294),n=a(5697),o=a.n(n),i=a(6713);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(g,e);var t,a,n,s,d,f=(s=g,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(s);if(d){var a=u(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return l(this,e)});function g(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(t=f.call(this,e)).state={captured:e.captured||!1,placed:e.placed||!1},e.rank&&e.game){var a=e.game.props.app.Config.Pieces[e.rank],r=a.name,n=a.rackOrder,o=a.move,i=a.capture,s=a.defuse;t.name=r,t.rackOrder=n,t.move=o,t.capture=i||null,t.defuse=s||!1}return t.pieceClicked=t.pieceClicked.bind(m(t)),t}return t=g,n=[{key:"propTypes",get:function(){return{captured:o().bool,placed:o().bool,rank:o().any,game:o().object,gameSpaceId:o().number,x:o().number,y:o().number,fromX:o().number,fromY:o().number,className:o().string,wrapperClass:o().string,color:o().string,moveInfo:o().object}}}],(a=[{key:"pieceClicked",value:function(){var e=this.props.game,t=e.props.app,a=t.gameBoard;if(this.props.placed&&this.props.gameSpaceId&&e&&"click"==e.state.placementMode&&!e.selectedRank&&!e.state.started)if(a.state.selectedSpace){var n=Math.ceil(parseInt(this.props.gameSpaceId)/10);(n<5?"red":n>6?"blue":"neutral")==t.tileRack.playerColor&&a.swapPieces(this.props.gameSpaceId,a.state.selectedSpace),a.highlightSpace(null),a.selectSpace(null),e.resetHelpText()}else a.selectSpace(this.props.gameSpaceId),a.highlightSpace(this.props.gameSpaceId),e.setHelpText("Click any space to move the selected tile there.");else if(this.props.placed||!e||e.state.started||"click"!=e.state.placementMode){if(this.props.placed&&e&&!e.state.started&&"erase"==e.state.placementMode)t.tileRack.returnTileToRack(e,t,this.props.gameSpaceId),e.resetHelpText();else if(t.isMobile&&e&&e.state.started&&this.props.placed&&e.state.turn==t.tileRack.playerColor&&t.tileRack.playerColor==this.props.color){a.selectSpace(this.props.gameSpaceId),a.highlightSpace(this.props.gameSpaceId),a.clearDroppables();var o=a.getValidMoveSpaces(this.props.fromX,this.props.fromY,this.props.color,this,e);for(var i in o){var s=o[i];s!=this.props.gameSpaceId&&(a.droppable[s]=!0,a.resetSpace(s))}o.length?2==o.length?e.setHelpText("Tap the highlighted square to move there."):1==o.length?e.setHelpText({headline:"No moves are available",subtext:"Please choose another piece."}):e.setHelpText("Tap any of the highlighted squares to move there."):e.setHelpText("No valid moves.  Try selecting another piece.")}}else{e.selectedRank=e.selectedRank!=this.props.rank?this.props.rank:null;var p=t.isMobile?"Tap":"Click";t.tileRack&&t.tileRack.remaining&&e.selectedRank?e.setHelpText(r.createElement("div",null,p+" a square to place a ",r.createElement("div",{className:"d-inline-block position-relative tileFace rank-"+this.props.rank}))):e.resetHelpText(),t.tileRack.setState({})}}},{key:"render",value:function(){var e="gamePiece text-center mx-auto"+(this.props.className||""),t="gamePiece-wrapper "+(this.props.wrapperClass||"");t=t.trim();var a="";e=e.trim();var n="";return this.props.moveInfo&&(a=" "+this.props.moveInfo.direction+"-"+this.props.moveInfo.distance),this.props.rank?n=r.createElement("div",{className:"tileFace rank-"+this.props.rank}):t+=" no-drag",r.createElement(i.Z,{in:this.props.moveInfo&&this.props.game.state.started,timeout:1e3,classNames:"piece-moving",appear:!0},r.createElement("div",{className:t+a,onClick:this.pieceClicked},r.createElement("div",{className:e+" "+this.props.color},n)))}}])&&p(t.prototype,a),n&&p(t,n),g}(r.Component)},7540:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var r=a(7294),n=a(5697),o=a.n(n),i=a(6347);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(g,e);var t,a,n,s,d,f=(s=g,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(s);if(d){var a=u(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return l(this,e)});function g(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(t=f.call(this,e)).onKeyDown=t.onKeyDown.bind(m(t)),t.closeForm=t.closeForm.bind(m(t)),t}return t=g,n=[{key:"propTypes",get:function(){return{parentMenu:o().object,content:o().any,styles:o().object,height:o().string,width:o().string,additionalClasses:o().string}}}],(a=[{key:"closeForm",value:function(){this.props.parentMenu.closeForm?this.props.parentMenu.closeForm():this.props.parentMenu.setState({formOpen:!1})}},{key:"onKeyDown",value:function(e){if(e.keyCode)switch(e.keyCode){case this.props.parentMenu.props.app.Config.KeyCodes.esc:this.closeForm()}}},{key:"render",value:function(){var e=this.props,t=e.content,a=e.parentMenu.props.app,n={};return e.styles&&(n=e.styles),r.createElement(i.Z,{id:e.parentMenu.id,app:a,content:t,height:e.height||"medium",width:e.width||"medium",open:e.parentMenu.state.formOpen,closeButton:!0,closeCallback:this.closeForm,onKeyDown:this.onKeyDown,styles:n,additionalClasses:"p-md-5 "+e.additionalClasses||0})}}])&&p(t.prototype,a),n&&p(t,n),g}(r.Component)},6347:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var r=a(7294),n=a(5697),o=a.n(n);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(f,e);var t,a,n,i,u,d=(i=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(i);if(u){var a=m(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return c(this,e)});function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=d.call(this,e)).state={},t.onKeyDown=t.onKeyDown.bind(l(t)),e.app.activeModal=l(t),t}return t=f,n=[{key:"propTypes",get:function(){return{app:o().object,open:o().bool,onKeyDown:o().func,closeButton:o().any,content:o().element,closeCallback:o().func,styles:o().object,height:o().string,width:o().string,additionalClasses:o().string,id:o().any}}}],(a=[{key:"onKeyDown",value:function(e){if(this.props.onKeyDown)return this.props.onKeyDown(e)}},{key:"componentDidMount",value:function(){this.modalContainer.focus()}},{key:"componentWillUnmount",value:function(){this.props.app.activeModal=null}},{key:"render",value:function(){var e=this,t=this.props.content,a=this.props,n=a.additionalClasses+" modal-wrapper";a.height&&(n+=" height-"+a.height),a.width&&(n+=" width-"+a.width);var o="";a.closeButton&&(o=r.createElement("a",{className:"close-button button",onClick:a.closeCallback},"X"));var i={};return a.styles&&(i=a.styles),r.createElement("section",{id:a.id||null,ref:function(t){e.modalContainer=t},className:"modal-container "+(a.open?" open":""),onKeyDown:this.onKeyDown},r.createElement("div",{className:"modal-overlay"}),r.createElement("div",{className:n,style:i},o,t))}}])&&s(t.prototype,a),n&&s(t,n),f}(r.Component)},1272:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var r=a(7294),n=a(5697),o=a.n(n);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(d,e);var t,a,n,i,m,u=(i=d,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(i);if(m){var a=l(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return c(this,e)});function d(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),u.call(this,e)}return t=d,n=[{key:"propTypes",get:function(){return{user:o().object,app:o().object,id:o().number,className:o().string}}}],(a=[{key:"render",value:function(){var e=this;if(!this.props.user||!this.props.user.id||!this.props.user.name)return"";var t=this.props.app;return r.createElement("a",{className:"userLink "+this.props.className,id:this.props.id,onClick:function(){return t.openUserProfile(e.props.user.id)}},this.props.user.name)}}])&&s(t.prototype,a),n&&s(t,n),d}(r.Component)},1278:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>qe});var r=a(7294),n=a(5697),o=a.n(n),i=(a(7147),a(5975)),s=a(8035);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,e);var t,a,n,i,s,p=(i=d,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(i);if(s){var a=u(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return m(this,e)});function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=p.call(this,e)).passable=t.props.passable||!0,t.x=e.x,t.y=e.y,t.state={extraClass:""},t}return t=d,n=[{key:"propTypes",get:function(){return{passable:o().bool,x:o().number,y:o().number,territory:o().string,spaceKey:o().any,id:o().number,children:o().element}}}],(a=[{key:"render",value:function(){return r.createElement("div",{id:"gameSpace-"+this.props.id,"data-col":this.props.x,"data-row":this.props.y,"data-territory":this.props.territory,className:"gameSpace col "+(this.props.spaceKey||"")+(this.props.passable?" passable":"")+" "+this.state.extraClass},this.props.children)}}])&&c(t.prototype,a),n&&c(t,n),d}(r.Component);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function g(e){var t,a,n=e.id,o=e.x,p=e.y,c=e.passable,l=e.board,m=e.game,u=e.children,g=e.occupied,h=function(e,t,a,r,n){if(!r||!n||!n.state)return!1;if(!c)return!1;if(n.state.started){var o=n.props.app.Config.Pieces[r.rank],s=l.getValidMoveSpaces(r.fromX,r.fromY,r.color,o,n),p=(0,i.Ly)(e,t);return p&&-1!=s.indexOf(p)}return r.color==a},b=p<5?"red":p>6?"blue":"neutral",v=(t=(0,s.L)({accept:"piece",drop:function(){return function(e,t,a,r){m&&m.state&&(m.state.started||r.color==a)&&c&&"done"!=m.state.status&&(r.gameSpaceId=n,l.placePiece(r,n,!1))}(0,0,b,k)},canDrop:function(){return h(o,p,b,k,m)},collect:function(e){return{dropped:e.getItem(),isOver:e.isOver(),canDrop:e.canDrop()}}}),a=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var a=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=a){var r,n,o=[],i=!0,s=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,n=e}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return o}}(t,a)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?f(e,t):void 0}}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=v[0],k=y.dropped,w=y.isOver,x=y.canDrop,S=v[1],P="";k&&(P=x&&w?"drop-target":x&&m.state.started?"droppable":"no-drop");var z=parseInt(m.props.app.state.currentUser.user_id)==parseInt(m.props.starter)?"blue":"red",C="",E="",q=void 0!==g&&q?" occupied":"";if(l.state.selectedSpace){var O=l.state.spaces[l.state.selectedSpace].props.children,R={};O&&(R={type:"piece",rank:O.props.rank||null,game:m,color:O.props.color,tileSpace:!1,fromX:O.props.fromX,fromY:O.props.fromY,fromId:O.props.fromId},h(o,p,b,R,m)&&(P="droppable"))}l.state.selectedSpace&&l.state.selectedSpace==n&&(C=" selectedSpace"),l.state.highlighted&&l.state.highlighted==n&&(E=" highlightedSpace");var _=c?" passable":" not-passable";return r.createElement("div",{ref:S,className:"gameSpace-wrapper col px-0 mx-0 "+P+C+E+_+q,onClick:function(){var e;if(m&&m.state&&(m.state.started||z==b)&&c&&"done"!=m.state.status)if(m.state.started||"click"!=m.state.placementMode)if(m.state.started||"keyboard"!=m.state.placementMode){if(m.state.started&&l.state.selectedSpace){var t={type:"piece",rank:(e=l.state.spaces[l.state.selectedSpace].props.children).props.rank||null,game:m,color:e.props.color,tileSpace:void 0,fromX:e.props.fromX,fromY:e.props.fromY,fromId:e.props.fromId};h(o,p,b,t,m)&&(t.gameSpaceId=n,l.placePiece(t,n,!1))}}else l.selectSpace(n);else{void 0===u&&l.state.selectedSpace&&b==z&&(l.swapPieces(l.state.selectedSpace,n),l.highlightSpace(null),l.selectSpace(null),m.resetHelpText());var a=m.selectedRank,r=m.props.app.tileSpaces[a];if(!a||!r)return;b==z&&(e={rank:a,color:z,tileSpace:r,gameSpaceId:n},l.placePiece(e,n,!1))}}},r.createElement(d,{id:n,x:o,y:p,passable:c,territory:b,board:l},u),r.createElement("div",{className:"gameSpace-overlay"}))}g.propTypes={id:o().number,x:o().number,y:o().number,passable:o().bool,board:o().object,game:o().object,children:o().element,occupied:o().bool};const h=g;var b=a(4772),v=a(1342);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var k=function(e){var t,a,n=(t=(0,v.c)({item:{type:"piece",rank:e.rank||null,game:e.game,color:e.color,tileSpace:e.tileSpace,fromX:e.fromX,fromY:e.fromY,fromId:e.fromId},canDrag:function(){return function(t,a,r,n){if(!(a&&a.state&&a.props.app&&a.props.app.state))return!1;if(!t)return!1;if(n)return!1;if(!a.props.app.state.currentUser||!a.props.app.state.currentUser.user_id)return!1;if(!a.state.started&&"drag"!=a.state.placementMode&&!e.placed)return!1;if(a.state.status&&"done"==a.state.status)return!1;var o=!0,i=a.props.app.state.currentUser.user_id;if(a.state.started){if(!a.props.app.Config.Pieces[t].move)return!1;var s=a.state.turn;o=a.state.players[s].id==i}return o}(e.rank,e.game,e.move,e.captured||!1)},collect:function(e){return{isDragging:!!e.isDragging(),canDrag:!!e.canDrag()}}}),a=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var a=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=a){var r,n,o=[],i=!0,s=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,n=e}finally{try{i||null==a.return||a.return()}finally{if(s)throw n}}return o}}(t,a)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?y(e,t):void 0}}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=o.isDragging,s=o.canDrag,p=n[1],c={color:e.color||"black",opacity:i?0:1};s&&e.game.state.started&&(c.cursor="move");var l=!1;e.rank&&(l=e.game.props.app.Config.Pieces[e.rank]),l&&!l.move&&e.game&&e.game.state.started&&(c.cursor="not-allowed");var m="";e.color&&(m="piece-"+e.color);var u="";return e.count&&(u=r.createElement("label",null,"x",e.count)),r.createElement("div",{ref:p,style:c,className:m+" "+(e.extraClass||"")},r.createElement(b.Z,{color:e.color,rank:e.rank,moveInfo:e.moveInfo||null,gameSpaceId:e.fromId||null,placed:e.placed||!1,captured:e.captured||!1,game:e.game,fromX:e.fromX,fromY:e.fromY,className:e.className}),u)};k.propTypes={placed:o().bool,captured:o().bool,rank:o().any,game:o().object,color:o().string,tileSpace:o().object,fromX:o().number,fromY:o().number,fromId:o().number,move:o().any,moveInfo:o().object,count:o().number,extraClass:o().string,className:o().string};const w=k;var x=a(6347),S=a(361),P=a.n(S),z=a(7540),C=a(5181),E=a(4051);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(c,e);var t,a,n,i,s,p=(i=c,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(i);if(s){var a=B(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return _(this,e)});function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=p.call(this,e)).state={selected:null,formOpen:!1},t.selectPreset=t.selectPreset.bind(N(t)),t.handleSubmit=t.handleSubmit.bind(N(t)),e.app.gameBoard.QuickLoadMenu=N(t),t.layoutLookup={},t.previousMode="drag",t.id="quickLoad-modal";var a=e.app.Config.Layouts;for(var r in a)t.layoutLookup[a[r].id]=r;return t}return t=c,n=[{key:"propTypes",get:function(){return{app:o().object,game:o().object}}}],(a=[{key:"handleSubmit",value:function(e){var t=this.props.app,a=this.props.game,r=t.tileRack.playerColor;for(var n in t.gameBoard.clearBoard(),e){var o=e[n],i=parseInt(n)+1;"blue"==r&&(i+=60);var s=t.tileSpaces[o];t.gameBoard.placePiece({rank:o,color:r,tileSpace:s},i,!0)}a.setState({placementMode:this.previousMode}),this.setState({formOpen:!1}),t.saveActiveGame()}},{key:"selectPreset",value:function(e){this.setState({selected:e})}},{key:"render",value:function(){var e=this;if(!this.state.formOpen)return null;var t=this.props,a=t.app,n=t.game,o=a.tileRack,i="";if(this.layoutLookup[this.state.selected]){var s=this.layoutLookup[this.state.selected],p=JSON.parse(a.Config.Layouts[s].value);if("blue"==o.playerColor){var c=p.slice(30,40),l=p.slice(20,30),m=p.slice(10,20),u=p.slice(0,10);p=c.concat(l).concat(m).concat(u)}for(var d=[3,4,7,8],f=[],g=1;g<11;g++){var h="";-1!=d.indexOf(g)&&(h="X"),f.push(r.createElement("div",{className:"preview-square text-center",key:g-11},h))}var b,v=p.map((function(e,t){return r.createElement("div",{className:"preview-square",key:t},r.createElement(w,{app:a,game:n,color:o.playerColor,rank:e,placed:!0,className:""}))}));b="red"==o.playerColor?v.concat(f):f.concat(v),i=r.createElement(E.Z,{noGutters:!0,className:"my-4"},b)}var y=" d-inline-block";this.state.selected||(y=" d-none");var k=r.createElement("div",{id:"presetSelector"},r.createElement("h3",{className:"mt-0"},"QUICK LOAD"),r.createElement(C.default,{label:"Select from Preset Layouts:",items:[{id:null,name:"",value:"[]"}].concat(this.props.app.Config.Layouts),view:"select",id:"presetList",callback:this.selectPreset,labelClass:"d-block mb-2"}),i,r.createElement("a",{className:"text-white text-center go-button blue float-right"+y,tabIndex:"-1",onClick:function(){return e.handleSubmit(p)}},"Load Preset"));return this.state.formOpen?r.createElement(z.Z,{parentMenu:this,height:"auto",content:k,styles:{backgroundColor:"var(--sand)"},additionalClasses:"text-black py-5 px-1"}):null}}])&&O(t.prototype,a),n&&O(t,n),c}(r.Component),T=function(e){var t=e.game,a=e.textClass,n=e.wrapperClass,o=e.textStyles,i=e.wrapperStyles,s=!1,p="";return void 0===n&&(n="d-table"),void 0===a&&(a="d-table-cell w-100 p-0 m-0 text-center"),void 0===i&&(i={}),void 0===o&&(o={}),t.state.helpText&&(s=t.state.helpText),t.state.helpSubtext&&(p=r.createElement("p",{className:"m-0 subtext"},t.state.helpSubtext)),s||(n+=" transparent"),r.createElement("div",null,r.createElement("div",{className:n,id:"help-bar",style:i},r.createElement("span",{className:a,style:o},s,p),r.createElement("a",{className:"text-white md-up",id:"help-bar-close",onClick:t.closeHelpBar},"X")),r.createElement("a",{className:"circle-link text-white",id:"help-bar-open",onClick:t.openHelpBar},"?"))};function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?H(e):t}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(l,e);var t,a,n,s,p,c=(s=l,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=K(s);if(p){var a=K(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return L(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this,e)).state={spaces:{},highlighted:null,selectedSpace:null,battleContent:r.createElement(E.Z,null,r.createElement("h3",{className:"col-12 text-center"},"Attacking...")),battleModalOpen:!1},t.droppable={},t.obscuredSpaces={43:!0,44:!0,47:!0,48:!0,53:!0,54:!0,57:!0,58:!0},t.renderGameSpace=t.renderGameSpace.bind(H(t)),t.gameSpaceRow=t.gameSpaceRow.bind(H(t)),t.borderRow=t.borderRow.bind(H(t)),t.gameSpaceRows=t.gameSpaceRows.bind(H(t)),t.placePiece=t.placePiece.bind(H(t)),t.emptySpace=t.emptySpace.bind(H(t)),t.resetSpace=t.resetSpace.bind(H(t)),t.clearDroppables=t.clearDroppables.bind(H(t)),t.swapPieces=t.swapPieces.bind(H(t)),t.swapByKeyboard=t.swapByKeyboard.bind(H(t)),t.checkTilesPlaced=t.checkTilesPlaced.bind(H(t)),t.getValidMoveSpaces=t.getValidMoveSpaces.bind(H(t)),t.highlightSpace=t.highlightSpace.bind(H(t)),t.placementArrowMove=t.placementArrowMove.bind(H(t)),t.openBattleModal=t.openBattleModal.bind(H(t)),t.closeBattleModal=t.closeBattleModal.bind(H(t)),t.getBattleContent=t.getBattleContent.bind(H(t)),t.props.app.gameBoard=H(t),t}return t=l,n=[{key:"propTypes",get:function(){return{app:o().object,game:o().object,refName:o().string,onSelect:o().func,onChange:o().func,suggestions:o().array,inputName:o().string,placeholder:o().string}}}],(a=[{key:"componentDidMount",value:function(){var e=this.props.app;e.gameBoard=this;var t=this.props.game.props.spaces;if(t&&e.tileSpaces)for(var a in t){var r=t[a],n=null;r.rank&&e.tileSpaces[r.rank]&&(n=e.tileSpaces[r.rank]),this.placePiece({rank:r.rank,color:r.color,tileSpace:n},r.id,!0),n&&n.setState({remaining:n.remaining})}}},{key:"componentWillUnmount",value:function(){this.props.app.gameBoard=null}},{key:"clearDroppables",value:function(){for(var e in this.droppable)this.droppable[e]&&(this.droppable[e]=!1,this.resetSpace(e))}},{key:"placementArrowMove",value:function(e){var t=(0,i.PY)(this.state.selectedSpace),a=t.x,r=t.y;switch(e){case 37:a=Math.max(1,a-1);break;case 38:r=Math.max(1,r-1);break;case 39:a=Math.min(10,a+1);break;case 40:r=Math.min(10,r+1)}var n=(0,i.Ly)(a,r);this.selectSpace(n)}},{key:"placeByKeyboard",value:function(e){e=e.toUpperCase();var t=this.props.app,a=parseInt(this.state.selectedSpace||1),r=t.tileRack.playerColor,n=t.tileSpaces[e];this.placePiece({rank:e,color:r,tileSpace:n},a,!1),this.checkTilesPlaced()}},{key:"removeByKeyboard",value:function(){var e=this.props.app,t=this.props.game;e.tileRack.returnTileToRack(t,e),this.checkTilesPlaced()}},{key:"highlightSpace",value:function(e){if("object"==M(e))if(null==e){if(this.state.highlighted)if("object"==M(this.state.highlighted))for(var t in this.state.highlighted)this.resetSpace(this.state.highlighted[t]);else this.resetSpace(this.state.highlighted)}else for(var a in e)this.resetSpace(e[a]);else this.resetSpace(e);this.setState({highlighted:e})}},{key:"highlightByKeyboard",value:function(){var e=parseInt(this.state.selectedSpace||1);this.state.spaces[e]&&this.state.spaces[e].props.children&&this.highlightSpace(e)}},{key:"swapByKeyboard",value:function(e){var t=parseInt(this.state.selectedSpace||1);if(e==t)return this.setState({highlighted:!1}),void this.resetSpace(e);this.swapPieces(e,t),this.highlightSpace(null)}},{key:"selectSpace",value:function(e){var t=this.props.app.tileRack.playerColor,a="red"==t?1:7,r="red"==t?4:10,n=(0,i.Ly)(1,a),o=(0,i.Ly)(10,r),s=parseInt(this.state.selectedSpace||1);!this.props.game.state.started&&e&&e<n?e=Math.max(s,n):e>o&&(e=Math.min(s,o)),this.setState({selectedSpace:e,highlightedSpace:null}),this.resetSpace(e),this.resetSpace(s);var p=Date.now()/1e3;this.props.app.tileRack.setState({rendered:p})}},{key:"openBattleModal",value:function(){this.setState({battleModalOpen:!0})}},{key:"closeBattleModal",value:function(){this.setState({battleModalOpen:!1})}},{key:"getBattleContent",value:function(e){if(!e||!e.attack_rank)return null;var t=this.props.app,a=this.props.game,n=t.Config.Pieces[e.attack_rank].name,o=t.Config.Pieces[e.defend_rank].name,i=t.tileRack.playerColor,s=e.attack_color==i,p=s?n:o,c=e.defeated,l="red"==i?"blue":"red",m=s?o:n,u=parseInt(a.props.starter)==parseInt(t.state.currentUser.user_id)?a.props.opponentName:a.props.starterName,d="",f="",g=P()(a.state.players);g.blue.soldiers=e.remaining.blue,g.red.soldiers=e.remaining.red;var h,b,v="";"both"==c?(a.addCaptured({color:e.attack_color,rank:e.attack_rank}),a.addCaptured({color:e.defend_color,rank:e.defend_rank})):(b=e.attack_color==c?e.attack_rank:e.defend_rank,a.addCaptured({color:c,rank:b})),"Bomb"==o&&(this.emptySpace(e.space_id),this.emptySpace(e.from_space_id)),"both"==c?(this.emptySpace(e.space_id),this.emptySpace(e.from_space_id),a.setState({players:g}),d="Draw!",f=r.createElement("span",null,"Your ",r.createElement("strong",null,p)," and ",r.createElement("strong",{className:"text-opponent-color"},u,"'s")," ",r.createElement("strong",null,m)," defeated each other!")):c==i?(d="Defeat!",h="defeated",a.setState({players:g}),"Bomb"==o&&s?(d="Catastrophe!",h="blown up"):"Bomb"==o?(d="Sabotage!",h="defused"):"Flag"==o&&(d="Defeated!",h="captured"),g[i].soldiers<1&&(d="Defeated!",v=r.createElement("p",{className:"mx-auto text-center"},"Your entire army has been conquered!")),f=r.createElement("span",null,"Your ",r.createElement("strong",null,p)," was ",h," by ",r.createElement("strong",{className:"text-opponent-color"},u,"'s")," ",r.createElement("strong",null,m),"!")):(d="Victory!",a.setState({players:g}),h="defeated","Bomb"==o&&s?(d="Success!",h="defused"):"Bomb"==o?(d="Success!",h="blew up"):"Flag"==o&&(h="captured"),g[l].soldiers<1&&(d="Victory!",v=r.createElement("p",{className:"mx-auto text-center"},r.createElement("strong",{className:"text-opponent-color"},u,"'s")," entire army is defeated!")),f=r.createElement("span",null,"Your ",r.createElement("strong",null,p)," ",h," ",r.createElement("strong",{className:"text-opponent-color"},u,"'s")," ",r.createElement("strong",null,m),"!")),g[i].soldiers<1&&g[l].soldiers<1&&(d="Mutual Destruction!",v=r.createElement("p",{className:"mx-auto text-center"},"Both armies have been entirely depleted! The game is a draw."));var y=r.createElement(E.Z,null,r.createElement("h3",{className:"col-12 text-center battle-heading"},d),r.createElement("p",{className:"col-12 battle-text text-center"},f),v,r.createElement("div",{className:"col-6"},r.createElement(w,{color:e.attack_color,rank:e.attack_rank,placed:!0,className:"float-right"})),r.createElement("div",{className:"col-6"},r.createElement(w,{color:e.defend_color,rank:e.defend_rank,placed:!0,className:""})));this.setState({battleContent:y})}},{key:"renderGameSpace",value:function(e,t,a,n){var o=Boolean(n),i=void 0!==this.selectedSpace&&this.selectedSpace&&this.selectedSpace==a,s=!this.obscuredSpaces[a];return r.createElement(h,{id:a,selected:i,board:this,y:e,x:t,occupied:o,key:a,passable:s,game:this.props.game},n)}},{key:"getValidMoveSpaces",value:function(e,t,a,r,n){var o,s,p=["east","west","south","north"],c=[(0,i.Ly)(e,t)];for(var l in p){var m=p[l];o=!1,s=!1;for(var u=1;u<=r.move&&!o;)if(s)o=!0;else{var d=(0,i.Cz)(e,t,u,m);if(d){var f=n.props.app.gameBoard.state.spaces[d].props;if(f.passable||(o=!0),f.children){if(f.children.props.color==a){o=!0;continue}s=!0}o||c.push(d),u++}else o=!0}}return c}},{key:"emptySpace",value:function(e){var t=this.state.spaces,a=t[e],r=this.renderGameSpace(a.props.y,a.props.x,e);return t[e]=r,this.setState({spaces:t}),r}},{key:"clearBoard",value:function(){var e=this.state.spaces,t=this.props.app,a=t.tileRack.playerColor;for(var r in e){var n=e[r];if(n.props.occupied&&n.props.children&&n.props.children.props.color==a){var o=this.renderGameSpace(n.props.y,n.props.x,r);e[r]=o}}this.setState({spaces:e}),t.tileRack.resetCounts()}},{key:"swapPieces",value:function(e,t){var a=this.props.app,n=this.state.spaces,o=n[t],s=null;void 0!==o.props.children&&(s=o.props.children.props);var p=n[e].props.children.props,c=(0,i.PY)(e),l=(0,i.PY)(t),m=null,u=null;s&&(m=s.fromX,u=s.fromY);var d=r.createElement(w,{color:p.color,rank:p.rank,fromX:m,fromY:u,fromId:t,placed:!0,game:this.props.game}),f=null;s&&(f=r.createElement(w,{color:s.color,rank:s.rank,fromX:p.fromX,fromY:p.fromY,fromId:e,placed:!0,game:this.props.game})),n[t]=this.renderGameSpace(l.y,l.x,t,d),n[e]=this.renderGameSpace(c.y,c.x,e,f||void 0),this.setState({spaces:n}),a.saveActiveGame()}},{key:"checkTilesPlaced",value:function(){var e=this.props.app,t=e.tileRack.playerColor,a=this.state.spaces,r={},n={total:40};for(var o in a){var i=a[o];i.props.children&&t==i.props.children.props.color&&(r[i.props.children.props.rank]?r[i.props.children.props.rank]++:r[i.props.children.props.rank]=1)}for(var s in e.Config.Pieces){var p=e.Config.Pieces[s].count;n[s]=p-(r[s]||0),n.total=n.total-(r[s]||0)}e.tileRack.resetCounts(n)}},{key:"placePiece",value:function(e,t,a){var n=this.state.spaces,o=this.props.app,s=this.props.game,p=!1,c=o.tileRack.playerColor,l=n[t].props,m=l.x,u=l.y,d=e.rank,f=e.color,g=e.tileSpace,h=null;if(m!=e.fromX||u!=e.fromY){if(e.fromId)if(this.props.game.state.started){if(o.isMobile&&this.clearDroppables(),n[t].props.occupied){var b=s.state.attacks+1;p=!0,this.openBattleModal();var v=o.state.currentUser.user_id,y=o.state.currentUser.userKey;if(!v||!y)return[];var k=o.state.activeGame.props.id;n[e.fromId]=this.renderGameSpace(e.fromY,e.fromX,e.fromId);var x={};for(var S in n){var P={};n[S].props.occupied&&n[S].props.children&&(P.id=n[S].props.id,P.rank=n[S].props.children.props.rank,P.color=n[S].props.children.props.color,x[P.id]=P)}var z={game_id:k,spaces:x,user_id:v,userKey:y,from_space_id:e.fromId,space_id:t,attack_rank:d,attack_color:f},C=this;window.fetch(o.gameServer+"battle",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(z)}).then((function(e){e.text().then((function(e){if(e.length){var t=JSON.parse(e);C.getBattleContent(t),s.setState({attacks:b})}}))}))}else n[e.fromId]=this.renderGameSpace(e.fromY,e.fromX,e.fromId),this.props.game.toggleTurn();s.resetHelpText()}else{if(n[t].props.occupied)return void this.swapPieces(e.fromId,t);n[e.fromId]=this.renderGameSpace(e.fromY,e.fromX,e.fromId)}if(g){if(!g.remaining)return;if(n[t].props.occupied){var E=n[t].props.children.props;if(E.color==f&&E.rank==d)return;E.color==f&&(this.props.app.tileSpaces[E.rank].setState({remaining:this.props.app.tileSpaces[E.rank].remaining+1}),this.props.app.tileSpaces[E.rank].remaining++,g.remaining--)}else f==c&&(g.remaining--,o.tileRack.remaining--,o.tileRack.remaining||o.tileRack.setState({allPlaced:!0}),g.remaining||(s.selectedRank=null,s.resetHelpText()));if(g.setState({remaining:g.remaining}),!g.remaining){s.selectedRank=null;var q=Date.now()/1e3;o.tileRack.setState({rendered:q})}}if(e.fromId){var O=(0,i.MM)(e.fromId,t);h={from:e.fromId,to:t,color:e.color,direction:O.direction,distance:O.distance}}var R=null;s.state.last_move&&t==s.state.last_move.to&&(R=s.state.last_move),n[t]=this.renderGameSpace(u,m,t,r.createElement(w,{color:f,fromX:m,fromY:u,fromId:t,rank:d,placed:!0,moveInfo:R,game:this.props.game}));var _={spaces:n};this.props.game.state.started&&(_.selectedSpace=null,_.highlighted=null),this.setState(_),g&&this.checkTilesPlaced(),a||p||o.saveActiveGame(h)}}},{key:"resetSpace",value:function(e){var t=this.state.spaces,a=t[e];a&&(t[e]=this.renderGameSpace(a.props.y,a.props.x,e,a.props.children),this.setState({spaces:t}))}},{key:"borderRow",value:function(e,t){t||(t=12);for(var a=[],n=1;n<=t;n++)a.push(r.createElement("div",{className:"gameSpace-wrapper border-wrapper col px-0 mx-0",key:e+"-"+n},r.createElement("div",{className:"gameSpace borderSpace",id:e+"-"+n})));return r.createElement("div",{className:"gameSpaceRow borderSpaceRow text-left lg-up",id:e,key:e},a)}},{key:"gameSpaceRow",value:function(e,t,a,n){var o=(e-1)*(n||10),i=[];i.push(r.createElement("div",{className:"gameSpace-wrapper border-wrapper left-wrapper col px-0 mx-0",key:"left-border-"+e},r.createElement("div",{className:"gameSpace borderSpace left-border",id:"left-border-"+e})));for(var s=t;s<=a;s++){var p=null;this.state.spaces[o+s]?p=this.state.spaces[o+s]:(p=this.renderGameSpace(e,s,o+s),this.state.spaces[o+s]=p),i.push(p)}return i.push(r.createElement("div",{className:"gameSpace-wrapper border-wrapper right-wrapper col px-0 mx-0",key:"right-border-"+e},r.createElement("div",{className:"gameSpace borderSpace right-border",id:"right-border-"+e}))),r.createElement("div",{className:"gameSpaceRow text-left",key:e},i)}},{key:"gameSpaceRows",value:function(e,t,a){var r=[];r.push(this.borderRow("top-border"));for(var n=e;n<=t;n++)r.push(this.gameSpaceRow(n,1,a,10));return r.push(this.borderRow("bottom-border")),r}},{key:"render",value:function(){var e=this.props.game,t=this.props.app,a="gameBoard",n=e.state.started&&!t.isMobile?null:r.createElement(T,{game:e,app:t,wrapperClass:"xs-only w-100 d-table mt-1"});return e.state.started||(a+=" placement mode-"+e.state.placementMode),r.createElement("div",{className:a},r.createElement(j,{app:t,game:e}),r.createElement(x.Z,{closeButton:!0,closeCallback:this.closeBattleModal,id:"battle-modal",app:t,content:this.state.battleContent,open:this.state.battleModalOpen,additionalClasses:"p-5 text-black"}),this.gameSpaceRows(1,10,10),n)}}])&&I(t.prototype,a),n&&I(t,n),l}(r.Component);var A=a(1272),F=a(6168);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?Q(e):t}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(c,e);var t,a,n,i,s,p=(i=c,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(i);if(s){var a=V(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return U(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=p.call(this,e)).callback=t.callback.bind(Q(t)),t.state={value:e.value||null,label:e.label||"",layout:e.layout||"horizontal"},t.onKeyDown=t.onKeyDown.bind(Q(t)),t}return t=c,n=[{key:"propTypes",get:function(){return{value:o().any,game:o().object,disableArrows:o().bool,disabled:o().bool,hidden:o().bool,callback:o().func,layout:o().string,label:o().string,ulClass:o().string,liClass:o().string,labelClass:o().string,listLabelClass:o().string,name:o().string,options:o().array,className:o().string,id:o().any}}}],(a=[{key:"callback",value:function(e){var t=e.currentTarget.value;this.setState({value:t}),this.props.callback&&this.props.callback(e.currentTarget.value),this.render()}},{key:"onKeyDown",value:function(e){this.props.disableArrows&&e.keyCode<41&&e.keyCode>36&&e.preventDefault()}},{key:"render",value:function(){var e=this.props,t=this.state,a=this.callback,n=t.layout,o=this.props.options.map((function(n,o){return n.exclude?null:r.createElement("li",{className:e.liClass+" "+n.className||"",key:o,onClick:n.onSelect,"data-tip":n.tooltip},r.createElement("label",{className:e.labelClass},r.createElement("p",{className:"mt-3 mb-0"},n.key),r.createElement("input",{type:"radio",defaultChecked:n.value===t.value,tabIndex:"-1",value:n.value,name:e.name,disabled:e.disabled,onClick:a}),r.createElement("span",{className:"checkmark"})))})),i=e.ulClass+" "+n,s="optionIndicator text-center"+(e.disabled?" disabled ":" ")+(this.props.className||"");return e.hidden&&(s+=" d-none"),r.createElement("div",{className:s,id:e.id,onKeyDown:this.onKeyDown},r.createElement("label",{className:e.listLabelClass},this.state.label),r.createElement("ul",{className:i},o),r.createElement(F.Z,null))}}])&&Y(t.prototype,a),n&&Y(t,n),c}(r.Component);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?ae(e):t}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(c,e);var t,a,n,i,s,p=(i=c,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=re(i);if(s){var a=re(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return te(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=p.call(this,e)).state={highlight:!1,passable:e.passable||!0,occupied:e.occupied||!1,occupant:null},t.remaining=e.count||e.game.props.app.Config.Pieces[t.props.rank].count,t.state.remaining=t.remaining,t.onClick=t.props.onClick||function(){},t.empty=t.empty.bind(ae(t)),t.populate=t.populate.bind(ae(t)),t.rack=e.rack,t.app=e.rack.app,t.app.tileSpaces[e.rank]=ae(t),t}return t=c,n=[{key:"propTypes",get:function(){return{rack:o().object,game:o().object,count:o().number,passable:o().bool,occupied:o().bool,onClick:o().func,name:o().string,rank:o().any}}}],(a=[{key:"populate",value:function(e){this.setState({occupant:e})}},{key:"empty",value:function(){this.setState({occupant:null})}},{key:"render",value:function(){var e=this.props.game.props.app.Config.Pieces[this.props.rank].rackOrder,t=e?" order-"+e:"",a=!this.remaining,n=this.props.game.selectedRank&&this.props.game.selectedRank==this.props.rank?" selected-rank":"";return a?r.createElement("div",{id:"tileSpace-"+this.props.rank,className:"tileSpace col-2 col-sm-1 col-md-4 col-lg-4 "+this.props.rank+t+(this.state.highlight?" highlight":"")}):r.createElement("div",{id:"tileSpace-"+this.props.rank,className:"tileSpace col-2 col-sm-1 col-md-4 col-lg-4 "+this.props.rank+t+n+(this.state.highlight?" highlight":""),onClick:this.onClick},r.createElement(w,{color:this.rack.playerColor,rank:this.props.rank,placed:!1,game:this.props.game,tileSpace:this}),r.createElement("label",null,"x",this.state.remaining))}}])&&$(t.prototype,a),n&&$(t,n),c}(r.Component);var oe=a(682),ie=a(1555);function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?me(e):t}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(l,e);var t,a,n,s,p,c=(s=l,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ue(s);if(p){var a=ue(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return le(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this,e)).remaining=e.remaining||40,t.spaces={},t.renderTileSpace=t.renderTileSpace.bind(me(t)),t.tileSpaces=t.tileSpaces.bind(me(t)),t.setReady=t.setReady.bind(me(t)),t.resetCounts=t.resetCounts.bind(me(t)),t.handleClick=t.handleClick.bind(me(t)),t.app=e.app,t.app.tileRack=me(t),t.app.tileSpaces={},t.state={allPlaced:!1},t.app.state.currentUser.user_id==t.app.state.activeGame.props.starter?t.playerColor="blue":t.playerColor="red",t}return t=l,n=[{key:"propTypes",get:function(){return{remaining:o().number,app:o().object,game:o().object,onChange:o().func,suggestions:o().array,inputName:o().string,placeholder:o().string}}}],(a=[{key:"componentDidMount",value:function(){this.app.tileRack=this}},{key:"renderTileSpace",value:function(e){return r.createElement(ne,{id:"tileSpace-"+e,rack:this,key:e,rank:e,game:this.props.game})}},{key:"resetCounts",value:function(e){var t,a=this.props.app;if(e&&void 0!==e){for(t in e)"total"!=t&&(a.tileSpaces[t].remaining=e[t],a.tileSpaces[t].setState({remaining:e[t]}));void 0!==e.total&&(this.remaining=e.total,this.setState({allPlaced:this.remaining<1}))}else for(t in this.remaining=40,this.setState({allPlaced:!1}),a.Config.Pieces)a.tileSpaces[t].remaining=a.Config.Pieces[t].count,a.tileSpaces[t].setState({remaining:a.Config.Pieces[t].count})}},{key:"tileSpaces",value:function(){var e=[];for(var t in this.props.app.Config.Pieces)e.push(this.renderTileSpace(t));return this.spaces=e,e}},{key:"setReady",value:function(e){var t=this.app,a=this.props.game,r=a.state.players;r[this.playerColor].ready=e,a.setState({players:r}),t.saveActiveGame()}},{key:"componentWillUnmount",value:function(){this.app.tileRack=null,this.app.tileSpaces={}}},{key:"returnTileToRack",value:function(e,t,a){var r=t.gameBoard;void 0===a&&(a=r.state.selectedSpace);var n=r.state.spaces[a];if(n.props.children){var o=n.props.children.props.rank;t.tileSpaces[o].remaining++,this.remaining++,r.emptySpace(a),"click"==e.state.placementMode&&(r.selectSpace(null),r.highlightSpace(null)),t.tileSpaces[o].setState({remaining:t.tileSpaces[o].remaining}),this.setState({allPlaced:!1}),t.saveActiveGame()}}},{key:"handleClick",value:function(){}},{key:"render",value:function(){var e=this,t="",a="",n=this.props.game;return(0,i.fF)("TileRack rendering"),n.state.started||(this.remaining||!this.state.allPlaced||n.state.players[this.playerColor].ready?!this.remaining&&this.state.allPlaced&&(t=r.createElement(ie.Z,{xs:12},r.createElement("a",{className:"go-button d-block red text-white text-center mx-auto my-md-3",tabIndex:"-1",onClick:function(){return e.setReady(!1)}},"I'm Not Ready!"))):t=r.createElement(ie.Z,{xs:12},r.createElement("a",{className:"go-button d-block blue text-white text-center mx-auto my-md-3 glowing",tabIndex:"-1",onClick:function(){return e.setReady(!0)}},"I'm Ready!")),n.state.players.blue.ready&&n.state.players.red.ready&&(a=r.createElement(ie.Z,{xs:12},r.createElement("a",{className:"go-button d-block text-white text-center mx-auto my-3 glowing",tabIndex:"-1",onClick:n.startGame},"START GAME")))),r.createElement(oe.Z,{fluid:!0,className:"px-0",onClick:this.handleClick},r.createElement(E.Z,{noGutters:!0,className:"tileRack px-3 px-md-0 pt-2 pt-sm-3"},a,t,this.tileSpaces()))}}])&&pe(t.prototype,a),n&&pe(t,n),l}(r.Component),fe=function(e){var t=e.game,a=e.app,n=e.playerColor,o="",i="",s=r.createElement(de,{game:t,app:a});if(a.isMobile&&(i=r.createElement(de,{game:t,app:a}),s=""),t.state.started){var p,c;if(t.state.turn&&t.state.status&&"done"!=t.state.status)p=r.createElement("h6",{className:"text-center mx-auto my-3 col-12 pt-3"},"Current Turn: ",r.createElement("br",{className:"sm-down"}),r.createElement("span",{className:"text-"+t.state.turn},t.state.players[t.state.turn].name));else if(t.state.status&&"done"==t.state.status){var l,m;t.state.winner_uid==t.props.starter?(l=t.props.starterName,m="text-blue"):(l=t.props.opponentName,m="text-red");var u={name:l,id:t.state.winner_uid},d=r.createElement(A.Z,{app:a,user:u,className:"anchor "+m});c=r.createElement("h5",{className:"text-center mx-auto mt-4"},d," is the winner!")}var f={red:[],blue:[]};for(var g in t.state.captured)for(var h in t.state.captured[g])f[g].push(t.state.captured[g][h]);o=r.createElement(ie.Z,{xs:{span:12,order:1},sm:"4",lg:{span:3,order:2},className:"px-0 info-panel text-center mt-lg-3 mr-xl-auto h-sm-auto"},r.createElement(E.Z,{noGutters:!0},r.createElement(ie.Z,{xs:4,sm:12},c,p),r.createElement(ie.Z,{xs:8,sm:12},r.createElement(E.Z,{noGutters:!0},r.createElement("h4",{className:"mx-auto d-sm-block mt-3 my-sm-3 col-12"},"Captured"),r.createElement(ie.Z,{xs:6,className:"px-3"},r.createElement("span",{className:"text-red"},r.createElement(A.Z,{app:a,user:t.state.players.red,className:"anchor"})),r.createElement("div",{className:"captured-tiles player-red mt-3 md-up"},f.red.length?f.red:"None"),r.createElement("span",{className:"captured-tiles player-red mt-3 sm-down"},f.red.length)),r.createElement(ie.Z,{xs:6,className:"px-3"},r.createElement("span",{className:"text-blue"},r.createElement(A.Z,{app:a,user:t.state.players.blue,className:"anchor"})),r.createElement("div",{className:"captured-tiles player-blue mt-3 md-up"},f.blue.length?f.blue:"None"),r.createElement("span",{className:"captured-tiles player-blue mt-3 sm-down"},f.blue.length))))),r.createElement(T,{game:t,app:a,wrapperClass:"d-none d-sm-table w-100",wrapperStyles:{height:"8rem"}}),r.createElement("div",{className:"d-none"},r.createElement(de,{game:t,app:a})))}else o=r.createElement(ie.Z,{xs:{span:12,order:3},lg:{span:3,order:2},className:"px-0 tileRack-col bg-md-white mt-lg-3 mr-xl-auto"},r.createElement(E.Z,{noGutters:!0,className:"pt-1 pt-md-3"},r.createElement(J,{id:"placementMode",className:"col-12 px-0 mb-md-3",layout:"horizontal",value:t.state.placementMode,disableArrows:!0,ulClass:"text-center px-0 pt-3 pt-md-0 mb-2 mb-md-0",liClass:"col-4 col-md-6 p-0 mx-auto h-50",disabled:t.state.players[n].ready,labelClass:"px-2 px-md-3",listLabelClass:"pb-2 md-up",options:[{key:"Click & Place",value:"click"},{key:"Keyboard",value:"keyboard",exclude:a.isMobile},{key:"Quick Load",value:"quick",onSelect:t.openQuickLoadModal},{key:"Erase",value:"erase"}],name:"placementMode",label:"Placement Mode",callback:t.modeChange}),i,r.createElement(ie.Z,{xs:12,className:"mx-auto"},s)));return o};var ge=a(4289),he=a(2001),be=a(9862),ve=a(8006),ye=a(3379),ke=a.n(ye),we=a(9090);function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?Ce(e):t}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ke()(we.Z,{insert:"head",singleton:!1}),we.Z.locals;const qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(l,e);var t,a,n,s,p,c=(s=l,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ee(s);if(p){var a=Ee(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return ze(this,e)});function l(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this,e)).state={name:"",id:e.id||!1,players:{blue:{id:e.starter,ready:e.starterReady||!1,name:e.starterName},red:{id:e.opponent||null,ready:e.opponentReady||!1,name:e.opponentName}},captured:{blue:{},red:{}},turn:e.turn||null,placementMode:"click",started:e.started||!1,status:e.status||"pending",attacks:e.attacks||0,winner_uid:e.winner_uid||0,last_move_ts:e.last_move_ts||0,last_attack:e.last_attack||{}},e.app.isMobile?(t.state.placementMode="click",t.placementAction="Tap"):t.placementAction="Click",t.selectedRank=null,t.setHelpText=t.setHelpText.bind(Ce(t)),t.resetHelpText=t.resetHelpText.bind(Ce(t)),t.startGame=t.startGame.bind(Ce(t)),t.modeChange=t.modeChange.bind(Ce(t)),t.openHelpBar=t.openHelpBar.bind(Ce(t)),t.closeHelpBar=t.closeHelpBar.bind(Ce(t)),t.openQuickLoadModal=t.openQuickLoadModal.bind(Ce(t)),t.addCaptured=t.addCaptured.bind(Ce(t)),t.clearCaptured=t.clearCaptured.bind(Ce(t)),t.pollOpponentStatus=t.pollOpponentStatus.bind(Ce(t)),t.polled=!1,e.captured)for(var a in e.captured){var r=e.captured[a],n=r.split("-")[0],o=r.split("-")[1];t.addCaptured({color:n,rank:o},!0)}return t}return t=l,n=[{key:"propTypes",get:function(){return{app:o().object,id:o().string,starter:o().number,starterReady:o().bool,starterName:o().string,opponent:o().number,opponentReady:o().bool,opponentName:o().string,turn:o().string,started:o().bool,status:o().string,attacks:o().number,winner_uid:o().number,last_move_ts:o().number,last_attack:o().object,captured:o().array}}}],(a=[{key:"setHelpText",value:function(e){var t,a;if("object"==xe(e)&&e)e.$$typeof?(t=e,a=!1):(t=e.headline||!1,a=e.subtext||!1);else if("string"==typeof e)t=e,a=!1;else{if(e)return;t=!1,a=!1}this.setState({helpText:t,helpSubtext:a})}},{key:"pollOpponentStatus",value:function(){var e=this.props.app;if(!(e.state.activeGame&&e.state.activeGame.props.id&&e.tileRack&&e.gameBoard&&e.tileSpaces&&e.gameOpened))return null;var t=e.state.currentUser.user_id,a=e.state.currentUser.userKey;if(!t||!a)return null;var r,n=this,o=e.state.activeGame.props.id,i={game_id:o,user_id:t,userKey:a};window.fetch(e.gameServer+"opponent_status",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(t){n.polled||e.UserStatus.getNotifications(),n.polled=!0,t.text().then((function(t){if(t.length){var a=JSON.parse(t);if(!a.game_id||a.game_id==o){var i,s=a.opponent_ready;r=JSON.parse(a.opponent_spaces);var p,c=!!a.started,l=a.turn,m=a.attacks,u=a.last_move?JSON.parse(a.last_move):{},d={};!u||!e.tileRack||e.tileRack.playerColor==u.color||n.state.last_move&&u.ts==n.state.last_move.ts||(d.last_move=u),p="blue"==e.tileRack.playerColor?"red":"blue",s!=n.state.players[p].ready&&((i=n.state.players)[p].ready=s,d.players=i),c!=n.state.started&&(d.started=c),l!=n.state.turn&&(d.turn=l);var f=n.state.players[p].soldiers;void 0!==f&&f==a.soldiers_remaining||((i=n.state.players)[p].soldiers=a.soldiers_remaining,d.players=i),Object.keys(d).length&&(n.setState(d),n.resetHelpText());var g=null;m!=n.state.attacks&&(g=JSON.parse(a.last_attack),e.gameOpened&&e.gameOpened<g.time&&(n.setState({attacks:m,last_attack:g}),e.gameBoard.openBattleModal(),e.gameBoard.getBattleContent(g)));var h,b,v=[],y=[];for(h in r)v.push(r[h].id);for(h in e.gameBoard.state.spaces)e.gameBoard.state.spaces[h].props.children&&e.gameBoard.state.spaces[h].props.children.props.color==p&&y.push(e.gameBoard.state.spaces[h].props.id);for(h in v)if(b=v[h],!y.includes(b)){var k={rank:null,color:p,tileSpace:null};e.gameBoard.placePiece(k,b,!0)}for(h in y)b=y[h],v.includes(b)||e.gameBoard.emptySpace(b)}}}))}))}},{key:"resetHelpText",value:function(){if(!this.state.started&&"click"==this.state.placementMode&&this.props.app.tileRack&&void 0!==this.HelpMessages)this.setHelpText(this.HelpMessages.clickSelected);else if(!this.state.started&&"erase"==this.state.placementMode&&this.props.app.tileRack&&void 0!==this.HelpMessages)this.setHelpText(this.HelpMessages.eraseSelected);else if(!this.state.started&&"quick"==this.state.placementMode&&this.props.app.tileRack&&void 0!==this.HelpMessages)this.setHelpText(this.HelpMessages.quickSelected);else if(this.state.started&&this.props.app.tileRack&&this.state.turn==this.props.app.tileRack.playerColor){var e;e=this.props.app.isMobile?this.props.app.gameBoard.selectedRank?"Tap a highlighted square to move the selected piece there":"Tap a "+this.props.app.tileRack.playerColor+" tile to select it.":"Drag & drop a "+this.props.app.tileRack.playerColor+" tile to make your move.",this.setHelpText(e)}else if(this.state.started&&this.props.app.tileRack&&this.state.turn!=this.props.app.tileRack.playerColor){var t="Waiting for "+("red"==this.state.turn?this.props.opponentName:this.props.starterName)+" to make a move.";this.setHelpText(t)}else this.setHelpText(null)}},{key:"componentDidMount",value:function(){this.HelpMessages={clickSelected:{headline:this.placementAction+" any "+this.props.app.tileRack.playerColor+" tile to select that piece.",subtext:!this.props.app.isMobile&&"You can also drag & drop tiles to rearrange them."},quickSelected:{headline:"Using a preset tile configuration.",subtext:!this.props.app.isMobile&&"You can drag & drop tiles to rearrange them."},keyboardSelected:{headline:"Use the arrow keys to choose a square.",subtext:"Type rank (1-9, S, F, B) to place a piece, or X to erase."},eraseSelected:this.placementAction+" a "+this.props.app.tileRack.playerColor+" tile on the board to return it to the rack"},this.props.app.gameRef=this,this.opponentPoll=setInterval(this.pollOpponentStatus,3e3),this.resetHelpText()}},{key:"clearCaptured",value:function(){this.setState({captured:{blue:{},red:{}}})}},{key:"addCaptured",value:function(e,t){var a=this.state.captured,n=1;a[e.color][e.rank]&&(n=a[e.color][e.rank].props.count+1),a[e.color][e.rank]=r.createElement(b.Z,{color:e.color,rank:e.rank,captured:!0,game:this,count:n,key:e.color+"-"+e.rank,extraClass:"w-50 d-inline-block mb-2"}),t?this.state.captured=a:this.setState({captured:a})}},{key:"startGame",value:function(){var e=this.props.app,t=this.props.app.gameBoard;t.selectSpace(null),t.highlightSpace(null),this.setState({started:!0});var a=0==Math.floor(2*Math.random())?"red":"blue";e.gameStates[this.props.id].started=!0,e.gameStates[this.props.id].turn=a,e.saveActiveGame()}},{key:"toggleTurn",value:function(){var e;e="blue"==this.state.turn?"red":"blue",this.setState({turn:e})}},{key:"closeHelpBar",value:function(){this.setState({helpBarMinimized:!0})}},{key:"openHelpBar",value:function(){this.setState({helpBarMinimized:!1})}},{key:"modeChange",value:function(e){this.setState({placementMode:e}),"keyboard"==e?this.props.app.gameBoard.selectSpace(1):(this.props.app.gameBoard.selectSpace(null),this.props.app.gameBoard.highlightSpace(null)),"quick"!=e&&(this.props.app.gameBoard.QuickLoadMenu.previousMode=e),void 0!==this.HelpMessages&&this.setHelpText(this.HelpMessages[e+"Selected"])}},{key:"openQuickLoadModal",value:function(){this.props.app.gameBoard.QuickLoadMenu.setState({formOpen:!0})}},{key:"componentWillUnmount",value:function(){clearInterval(this.opponentPoll);var e=this.props.app;e.gameRef=null,e.gameOpened=!1}},{key:"render",value:function(){var e=this.props.app;(0,i.fF)("Game rendering"),this.props.id&&(e.gameStates[this.props.id]=this.state);var t=parseInt(e.state.currentUser.user_id)==parseInt(this.props.starter)?"blue":"red",a="mx-auto player-"+t;this.state.started&&(this.state.turn&&this.state.status&&"done"!=this.state.status&&(a+=" turn-"+this.state.turn),a+=" started"),this.state.helpBarMinimized&&(a+=" help-bar-minimized");var n={backends:[{backend:ge.ZP},{backend:he.z}]};return r.createElement(oe.Z,{className:a},r.createElement(be.W,{backend:ve.ZP,options:n},r.createElement(E.Z,{noGutters:!0},r.createElement(fe,{game:this,app:e,playerColor:t}),r.createElement(ie.Z,{xs:{span:12,order:2},sm:8,lg:{span:9,order:1},xl:8,className:"mx-auto px-0 scroll"},r.createElement(Z,{game:this,app:e})))))}}])&&Se(t.prototype,a),n&&Se(t,n),l}(r.Component)},9090:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(3645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,'body{--blue-button: #3777c7;--blue-shadow: #275797;--blue-highlight: #6797c7;--blue-light: #d7e7f7;--blue-grey: #373757;--blue-dark: #171747;--green-light: #d7f7e7;--green-grey: #97B797;--green-dark: #174717;--green-darker: #063606;--white: #f7f7f7;--red-button: rgb(199,55,55);--red-button-glow: rgba(255,111,111,.5);--red-shadow: #672727;--red-highlight: #e78787;--grey: #373737;--blue-grey-light: #c7cee7;--disabled-highlight: #676767;--disabled-light: #c7c7c7;--small-label-size: 12px;--yellow-highlight: #c7c767;--yellow-light: #f7f7d7;--space-border: rgba(2,2,2,.9);--midtone1: #79bd9a;--midtone2: #a8dba8;--highlight: #cff09e;--dark: #3b8686;--darker: #1b6666;--water: #3880be;--grass: #7cc43f;--sand: #d1c05b;--unpassable: rgba(255,64,64,.75);--square-size-default: 54px;--square-size-tablet: 45px;--square-size-landscape: 29px;--square-size-portrait: 38px;--glow-high: rgba(212,212,116,0.9);--glow-low: rgba(212,212,116,0.4)}.game{display:flex;flex-direction:row}.game-info{margin-left:20px}.disabled span{color:#676767}@media(min-width: 992px){.gameBoard{height:100vh}}@media(max-width: 991px){.gameBoard{background-color:var(--grass) !important;height:45vh}}@media(max-width: 991px){.gameBoard.zoom{transform:scale(1.6);top:100px;transition:all .35s}}@media(max-width: 767px){.gameBoard.zoom{transform:scale(1.45)}}@media(max-width: 575px){.gameBoard.zoom{transform:scale(1.15)}}@media(max-width: 767px){.gameBoard.scroll{overflow-y:hidden;overflow-x:hidden}}@media(max-width: 575px){.gameBoard.scroll{position:absolute;top:135px;width:125px}}@media(max-width: 991px){.gameBoard{top:0px;position:relative;transition:all .35s}.player-blue .gameBoard.zoom{top:-75px}}@media(max-width: 575px){.player-blue .gameBoard.placement{top:-160px}.player-red .gameBoard.placement{top:75px}}@media(max-width: 767px){.player-blue .gameBoard.zoom.placement{top:-155px}.player-red .gameBoard.zoom.placement{top:148px}}@media(max-width: 575px){.player-blue .gameBoard.zoom.placement{top:-96px}.player-blue .gameBoard.zoom:not(.placement){top:-135px;transform:unset}.player-red .gameBoard.zoom.placement{top:148px}}@media(max-width: 767px){.border-wrapper{display:none !important}}@media(max-width: 991px){.left-wrapper,.right-wrapper,.border-wrapper:first-child,.border-wrapper:last-child{display:none !important}.gameSpace.borderSpace{background-color:var(--grass);background-image:unset !important}}.gameSpace{height:var(--square-size-default);width:var(--square-size-default);background-color:var(--midtone1);border-left:1px dashed var(--space-border);border-top:1px dashed var(--space-border);padding:0;margin:0;position:relative}.gameSpace-wrapper{height:var(--square-size-default);width:var(--square-size-default);display:inline-block;overflow:visible;padding:0;margin:0}.gameSpace-wrapper:nth-child(11) .gameSpace{border-right:1px dashed var(--space-border)}.gameSpace-wrapper .gameSpace-overlay{width:100%;height:100%;background-color:transparent;position:absolute;top:0;left:0;opacity:.3;pointer-events:none;z-index:1}.gameSpace-wrapper.drop-target .gameSpace-overlay{background-color:#fff}.gameSpace-wrapper.no-drop .gameSpace-overlay{background-color:#000}.gameSpace-wrapper.selectedSpace .gameSpace-overlay{background-color:#fff}.gameSpace-wrapper.highlightedSpace .gameSpace-overlay{background-color:#ff0}.gameSpace-wrapper.selectedSpace.highlightedSpace .gameSpace-overlay{background-color:#ffffe0;opacity:.5}.started .gameSpace-wrapper.droppable .gameSpace-overlay{background-color:#ff0;z-index:1;opacity:.6;mix-blend-mode:overlay}.gameSpace-wrapper .col,.gameSpace .col{flex-basis:unset;flex-grow:unset;max-width:unset}.gameSpaceRow{margin:auto}.gameSpaceRow:nth-child(12) .gameSpace{border-bottom:1px dashed var(--space-border)}.gamePiece,.tileFace{width:36px;height:45px;display:block;top:0;left:2px;background-repeat:no-repeat}@media(max-width: 991px){.gamePiece,.tileFace{width:29px;height:36px;top:3px;left:2px}}.tileFace{background-position-x:-2px;background-image:url("/img/stratego-pieces.png");left:-1px;top:1px;position:absolute;background-size:contain;background-repeat:no-repeat}.tileFace.rank-B{background-image:url("/img/facebomb.png")}.tileFace.rank-9{background-image:url("/img/face9.png")}.tileFace.rank-8{background-image:url("/img/face8.png")}.tileFace.rank-7{background-image:url("/img/face7.png")}.tileFace.rank-6{background-image:url("/img/face6.png")}.tileFace.rank-5{background-image:url("/img/face5.png")}.tileFace.rank-4{background-image:url("/img/face4.png")}.tileFace.rank-3{background-image:url("/img/face3.png")}.tileFace.rank-2{background-image:url("/img/face2.png")}.tileFace.rank-1{background-image:url("/img/face1.png")}.tileFace.rank-S{background-image:url("/img/facespy.png")}.tileFace.rank-F{background-image:url("/img/faceflag.png")}@media(max-width: 991px){.gameBoard .tileFace{left:1px}}.gamePiece{position:relative;background-image:url("/img/stratego-piece-red.svg");background-size:contain}@media(min-width: 992px){.gameBoard .gamePiece{top:5px;left:-2px}}@media(max-width: 991px){.gameBoard .gamePiece{top:3px;left:2px}}@media(max-width: 767px){.gameBoard .gamePiece{top:3px;left:2px}}@media(max-width: 575px){.gameBoard .gamePiece{left:4px;top:5px}}.gamePiece.blue{background-image:url("/img/stratego-piece-blue.svg")}@media(max-width: 320px){.gameSpace-wrapper,.gameSpace{height:1.5rem}.gamePiece,.tileFace{width:1.5rem;height:1.5rem}.gameBoard .gamePiece{left:.25rem}}@media(max-width: 575px){.gameSpace-wrapper.col,.gameSpace-wrapper,.preview-square,.gameSpace{height:var(--square-size-portrait);width:var(--square-size-portrait)}}@media(min-width: 576px)and (max-width: 767px){.gameSpace-wrapper.col,.gameSpace-wrapper,.preview-square,.gameSpace{height:var(--square-size-landscape);width:var(--square-size-landscape)}}@media(min-width: 768px)and (max-width: 991px){.gameSpace-wrapper.col,.gameSpace-wrapper,.preview-square,.gameSpace{height:var(--square-size-tablet);width:var(--square-size-tablet)}}@media(max-width: 575px){.gameBoard .gamePiece,.gameBoard .tileFace{height:var(--square-size-portrait);width:var(--square-size-portrait)}}@media(min-width: 576px)and (max-width: 767px){.gameBoard .gamePiece,.gameBoard .tileFace{height:var(--square-size-landscape);width:var(--square-size-landscape)}}@media(min-width: 768px)and (max-width: 991px){.gameBoard .gamePiece,.gameBoard .tileFace{height:calc(var(--square-size-tablet) *.9) !important;width:calc(var(--square-size-tablet) *.9) !important}}@media(max-width: 575px){.gameBoard .gamePiece{top:0}}@media(min-width: 768px)and (max-width: 991px){.gameBoard .gamePiece{top:calc(var(--square-size-tablet) * .05) !important;left:12.5% !important}}@media(min-width: 768px)and (max-width: 991px){.gameBoard .tileFace{left:-1px}}@media(max-width: 575px){.gameSpaceRow,#presetSelector{width:calc((var(--square-size-portrait) * 10))}}@media(min-width: 576px){.gameSpaceRow,#presetSelector{width:calc((var(--square-size-landscape) * 10))}}@media(min-width: 768px){.gameSpaceRow,#presetSelector{width:calc((var(--square-size-tablet) * 10))}}@media(min-width: 992px){.gameSpaceRow,#presetSelector{width:calc((var(--square-size-desktop) * 10))}}@media(max-width: 991px){#presetSelector{margin:auto}}.gamePiece-wrapper{position:relative;z-index:0;transform:translate(0px, 0px);transition:transform 1s}.gameSpace-wrapper{overflow:visible}div.captured-tiles label{position:relative;font-size:.85rem;top:0rem;left:0rem;color:#000;display:inline}.tileRack{height:100%}@media(min-width: 768px){.tileRack{background:var(--dark)}}.tileRack label{display:block;margin-bottom:.5rem;margin-left:auto;margin-right:auto;text-align:center}@media(max-width: 767px){.tileRack{position:fixed;width:100%;height:150px;bottom:173px;background:var(--midtone1)}.tileRack .go-button{position:fixed;top:4rem;left:calc(50% - 86px)}}@media(max-width: 575px){.tileRack{height:140px}}.tileRack-col,.info-panel{height:10rem}@media(max-width: 991px){.tileRack-col{position:absolute;height:60px;top:unset;left:0px;bottom:0px;overflow:hidden}}@media(max-width: 767px){.tileRack-col{height:65px;position:fixed;width:100%;z-index:1;background-color:unset}.player-blue .tileRack-col{bottom:72px;top:unset}.player-red .tileRack-col{top:32px;bottom:unset}}@media(max-width: 575px){.tileRack-col{height:130px;left:0px;overflow:hidden}.player-blue .tileRack-col{bottom:56px;top:unset}.player-red .tileRack-col{top:56px;bottom:unset}}.info-panel{height:100%;background-image:url(img/parchment.jpg);background-size:cover;background-blend-mode:overlay;background-color:rgba(125,111,0,.5) !important}.info-panel a.userLink.anchor:after{content:": "}@media(min-width: 992px){.info-panel{padding-bottom:2rem}}@media(max-width: 575px){.info-panel{height:90px !important}}@media(min-width: 576px){.info-panel{border:1px solid #333}}.selected-rank .gamePiece{box-shadow:0 0 50px #fff}.selected-rank .tileFace{box-shadow:0 0 50px rgba(167,197,12,.9)}@media(min-width: 768px){.tileRack-col>.row,.info-panel{-webkit-box-shadow:10px 10px 5px 0px rgba(0,0,0,.2);-moz-box-shadow:10px 10px 5px 0px rgba(0,0,0,.2);box-shadow:10px 10px 5px 0px rgba(0,0,0,.2);border:1px solid #333}.tileRack-col,.info-panel{height:27rem}#placementMode{height:8rem}}.preview-square{width:10%;display:inline-block;background:#228b22;height:3.5rem;background:var(--grass);border:1px dashed var(--space-border)}.gameBoard,.game-bg{background-color:var(--water)}.game-bg{height:100%}@media(max-width: 991px){.game-bg{background-color:var(--grass)}}.optionIndicator ul li{list-style-type:none;break-inside:avoid;display:inline-block;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.optionIndicator ul li label{font-size:.8rem;position:relative}.optionIndicator ul li label .checkmark{position:absolute;top:0;left:calc(50% - 4px);height:8px;width:8px;background-color:#6a6a6a;border-radius:50%}.optionIndicator ul li label .checkmark:after{content:"";position:absolute;display:none;width:8px;height:8px;border-radius:50%;background:var(--disabled-light)}.optionIndicator ul li label input{position:absolute;opacity:0}.optionIndicator ul li label input:checked~.checkmark{background-color:var(--disabled-light)}.optionIndicator ul li label input:checked~.checkmark:after{display:block}.optionIndicator ul.vertical li{margin-left:0rem !important;margin-right:0rem !important;width:100%}.optionIndicator ul.vertical li label .checkmark{left:auto;right:auto;text-align:center;margin-left:-1rem}@media(min-width: 768px){.optionIndicator ul.horizontal{height:6rem}}@media(max-width: 767px){.optionIndicator{position:fixed;bottom:106px;background:#fff;z-index:1;height:auto}}.optionIndicator ul li label .checkmark:after{width:8px;height:8px;border-radius:50%;background:var(--disabled-light)}.gameSpace{background-image:url(img/tiles/sand.png);background-size:cover;background-repeat:no-repeat;background-position:center}#gameSpace-1{background-image:url(img/tiles/top-left-corner.png)}#gameSpace-12,#gameSpace-19,#gameSpace-26,#gameSpace-72,#gameSpace-78,#gameSpace-86{background-image:url(img/tiles/sand-2.png)}#gameSpace-14,#gameSpace-89{background-image:url(img/tiles/sand-3.png)}#gameSpace-2,#gameSpace-3,#gameSpace-4,#gameSpace-5,#gameSpace-6,#gameSpace-7,#gameSpace-8,#gameSpace-9{background-image:url(img/tiles/top-row.png)}#gameSpace-10{background-image:url(img/tiles/top-right-corner.png)}#gameSpace-11,#gameSpace-21,#gameSpace-31,#gameSpace-41,#gameSpace-51,#gameSpace-61,#gameSpace-71,#gameSpace-81{background-image:url(img/tiles/left-row.png)}#gameSpace-32,#gameSpace-36{background-image:url(img/tiles/top-left-edge.png)}#gameSpace-33,#gameSpace-34,#gameSpace-37,#gameSpace-38{background-image:url(img/tiles/top-edge.png)}#gameSpace-35,#gameSpace-39{background-image:url(img/tiles/top-right-edge.png)}#gameSpace-42,#gameSpace-52,#gameSpace-46,#gameSpace-56{background-image:url(img/tiles/left-edge.png)}#gameSpace-45,#gameSpace-55,#gameSpace-49,#gameSpace-59{background-image:url(img/tiles/right-edge.png)}#gameSpace-62,#gameSpace-66{background-image:url(img/tiles/bottom-left-edge.png)}#gameSpace-63,#gameSpace-64,#gameSpace-67,#gameSpace-68{border-top-color:var(--unpassable);border-top-style:solid;background-image:url(img/tiles/bottom-edge.png)}#gameSpace-65,#gameSpace-69{background-image:url(img/tiles/bottom-right-edge.png)}#gameSpace-91{background-image:url(img/tiles/bottom-left-corner.png)}#gameSpace-20,#gameSpace-30,#gameSpace-40,#gameSpace-50,#gameSpace-60,#gameSpace-70,#gameSpace-80,#gameSpace-90{background-image:url(img/tiles/right-row.png)}#gameSpace-92,#gameSpace-93,#gameSpace-94,#gameSpace-95,#gameSpace-96,#gameSpace-97,#gameSpace-98,#gameSpace-99{background-image:url(img/tiles/bottom-row.png)}#gameSpace-100{background-image:url(img/tiles/bottom-right-corner.png)}#gameSpace-44,#gameSpace-48,#gameSpace-54,#gameSpace-58{border-left-width:0}#gameSpace-53,#gameSpace-54,#gameSpace-57,#gameSpace-58{border-top-width:0}#top-border .gameSpace{background-image:url(img/tiles/top-coast.png)}#bottom-border .gameSpace{background-image:url(img/tiles/bottom-coast.png)}.gameSpace.left-border{background-image:url(img/tiles/left-coast.png)}.gameSpace.right-border{background-image:url(img/tiles/right-coast.png)}#top-border .gameSpace#top-border-1{background-image:url(img/tiles/top-left-coast.png)}#top-border .gameSpace#top-border-12{background-image:url(img/tiles/top-right-coast.png)}#bottom-border .gameSpace#bottom-border-1{background-image:url(img/tiles/bottom-left-coast.png)}#bottom-border .gameSpace#bottom-border-12{background-image:url(img/tiles/bottom-right-coast.png)}.gameSpace:not(.borderSpace):not(.passable){background-color:var(--water);background-image:unset;border-color:var(--unpassable);border-left-style:solid;border-top-style:solid}.gameSpace-wrapper:not(.passable)+.gameSpace-wrapper.passable>.gameSpace{border-left-color:var(--unpassable);border-left-style:solid}.gameSpace:not(.borderSpace):not(.passable)#gameSpace-44,.gameSpace:not(.borderSpace):not(.passable)#gameSpace-58{background-image:url(img/tiles/water-rocks.png)}.gameSpace:not(.borderSpace):not(.passable)#gameSpace-54,.gameSpace:not(.borderSpace):not(.passable)#gameSpace-48{background-image:url(img/tiles/water-ripple.png)}.gameSpace:not(.borderSpace):not(.passable)#gameSpace-43,.gameSpace:not(.borderSpace):not(.passable)#gameSpace-57{background-image:url(img/tiles/water-deep.png)}.gameSpace.borderSpace{border:none !important}#help-bar{background-color:var(--water);margin-top:1rem;padding:1rem .5rem;opacity:1;transition:opacity .25s;height:8rem}#help-bar span{bottom:0;left:0;height:48px;font-size:1.25rem;background-color:tranparent;vertical-align:middle;color:#fff;font-weight:500}@media(max-width: 575px){#help-bar span{height:28px}}.placement #help-bar{margin-top:unset;height:56px;background-color:rgba(0,0,0,.75);bottom:0;left:0;padding:0;position:fixed}.placement #help-bar span{font-size:24px;background-color:rgba(0,0,0,.75)}@media(min-width: 992px){.placement #help-bar{background-color:rgba(0,0,0,.25);z-index:3;border-radius:8px;position:relative;height:6rem;width:32rem;position:absolute;left:4.25rem;top:17.25rem}.placement #help-bar span{border-radius:8px}}@media(max-width: 767px){.placement #help-bar{width:100%;bottom:50px}.placement #help-bar span{font-size:12px}}.help-bar-minimized #help-bar{display:none !important}@media(min-width: 992px){#help-bar .tileFace{height:2rem;margin-left:.25rem}#help-bar p.subtext{font-size:1rem;font-weight:300}}@media(max-width: 575px){#help-bar{width:100%;background-color:rgba(0,0,0,.75);height:56px}}#help-bar-close{display:none;text-decoration:none !important}.placement #help-bar-close{display:block;position:absolute;top:.5rem;right:1rem;font-weight:700}@media(min-width: 992px){#help-bar-close{cursor:pointer}}#help-bar-open{display:none}.help-bar-minimized #help-bar-open{display:table}@media(min-width: 992px){.circle-link{cursor:pointer;color:#fff;font-size:2rem;position:fixed;bottom:3rem;left:1.5rem;border:3px solid #fff;width:3.5rem;height:3rem;text-align:center;vertical-align:middle;border-radius:50%;margin:0;padding:0;display:table;background-color:rgba(0,0,0,.33);backdrop-filter:hue-rotate(45deg);-webkit-backdrop-filter:hue-rotate(45deg);z-index:3}.circle-link span{display:table-cell;vertical-align:middle;font-weight:700}}.gamePiece-wrapper.down-1.piece-moving-appear{transform:translate(0px, calc(-1 * var(--square-size-default)));transition:transform 1s}.gamePiece-wrapper.up-1.piece-moving-appear{transform:translate(0px, calc(1 * var(--square-size-default)));transition:transform 1s}.gamePiece-wrapper.left-1.piece-moving-appear{transform:translate(calc(1 * var(--square-size-default)), 0px);transition:transform 1s}.gamePiece-wrapper.right-1.piece-moving-appear{transform:translate(calc(-1 * var(--square-size-default)), 0px);transition:transform 1s}.gamePiece-wrapper.down-2.piece-moving-appear{transform:translate(0px, calc(-2 * var(--square-size-default)));transition:transform 1s}.gamePiece-wrapper.up-2.piece-moving-appear{transform:translate(0px, calc(2 * var(--square-size-default)));transition:transform 1s}.gamePiece-wrapper.left-2.piece-moving-appear{transform:translate(calc(2 * var(--square-size-default)), 0px);transition:transform 1s}.gamePiece-wrapper.right-2.piece-moving-appear{transform:translate(calc(-2 * var(--square-size-default)), 0px);transition:transform 1s}.gamePiece-wrapper.down-3.piece-moving-appear{transform:translate(0px, calc(-3 * var(--square-size-default)));transition:transform 1s}.gamePiece-wrapper.up-3.piece-moving-appear{transform:translate(0px, calc(3 * var(--square-size-default)));transition:transform 1s}.gamePiece-wrapper.left-3.piece-moving-appear{transform:translate(calc(3 * var(--square-size-default)), 0px);transition:transform 1s}.gamePiece-wrapper.right-3.piece-moving-appear{transform:translate(calc(-3 * var(--square-size-default)), 0px);transition:transform 1s}.gamePiece-wrapper.down-4.piece-moving-appear{transform:translate(0px, calc(-4 * var(--square-size-default)));transition:transform 1s}.gamePiece-wrapper.up-4.piece-moving-appear{transform:translate(0px, calc(4 * var(--square-size-default)));transition:transform 1s}.gamePiece-wrapper.left-4.piece-moving-appear{transform:translate(calc(4 * var(--square-size-default)), 0px);transition:transform 1s}.gamePiece-wrapper.right-4.piece-moving-appear{transform:translate(calc(-4 * var(--square-size-default)), 0px);transition:transform 1s}.gamePiece-wrapper.down-5.piece-moving-appear{transform:translate(0px, calc(-5 * var(--square-size-default)));transition:transform 1s}.gamePiece-wrapper.up-5.piece-moving-appear{transform:translate(0px, calc(5 * var(--square-size-default)));transition:transform 1s}.gamePiece-wrapper.left-5.piece-moving-appear{transform:translate(calc(5 * var(--square-size-default)), 0px);transition:transform 1s}.gamePiece-wrapper.right-5.piece-moving-appear{transform:translate(calc(-5 * var(--square-size-default)), 0px);transition:transform 1s}.gamePiece-wrapper.down-6.piece-moving-appear{transform:translate(0px, calc(-6 * var(--square-size-default)));transition:transform 1s}.gamePiece-wrapper.up-6.piece-moving-appear{transform:translate(0px, calc(6 * var(--square-size-default)));transition:transform 1s}.gamePiece-wrapper.left-6.piece-moving-appear{transform:translate(calc(6 * var(--square-size-default)), 0px);transition:transform 1s}.gamePiece-wrapper.right-6.piece-moving-appear{transform:translate(calc(-6 * var(--square-size-default)), 0px);transition:transform 1s}.gamePiece-wrapper.down-7.piece-moving-appear{transform:translate(0px, calc(-7 * var(--square-size-default)));transition:transform 1s}.gamePiece-wrapper.up-7.piece-moving-appear{transform:translate(0px, calc(7 * var(--square-size-default)));transition:transform 1s}.gamePiece-wrapper.left-7.piece-moving-appear{transform:translate(calc(7 * var(--square-size-default)), 0px);transition:transform 1s}.gamePiece-wrapper.right-7.piece-moving-appear{transform:translate(calc(-7 * var(--square-size-default)), 0px);transition:transform 1s}.gamePiece-wrapper.down-8.piece-moving-appear{transform:translate(0px, calc(-8 * var(--square-size-default)));transition:transform 1s}.gamePiece-wrapper.up-8.piece-moving-appear{transform:translate(0px, calc(8 * var(--square-size-default)));transition:transform 1s}.gamePiece-wrapper.left-8.piece-moving-appear{transform:translate(calc(8 * var(--square-size-default)), 0px);transition:transform 1s}.gamePiece-wrapper.right-8.piece-moving-appear{transform:translate(calc(-8 * var(--square-size-default)), 0px);transition:transform 1s}.gamePiece-wrapper.down-9.piece-moving-appear{transform:translate(0px, calc(-9 * var(--square-size-default)));transition:transform 1s}.gamePiece-wrapper.up-9.piece-moving-appear{transform:translate(0px, calc(9 * var(--square-size-default)));transition:transform 1s}.gamePiece-wrapper.left-9.piece-moving-appear{transform:translate(calc(9 * var(--square-size-default)), 0px);transition:transform 1s}.gamePiece-wrapper.right-9.piece-moving-appear{transform:translate(calc(-9 * var(--square-size-default)), 0px);transition:transform 1s}@media(min-width: 768px)and (max-width: 991px){.gamePiece-wrapper.down-1.piece-moving-appear{transform:translate(0px, calc(-1 * var(--square-size-tablet)));transition:transform 1s}.gamePiece-wrapper.up-1.piece-moving-appear{transform:translate(0px, calc(1 * var(--square-size-tablet)));transition:transform 1s}.gamePiece-wrapper.left-1.piece-moving-appear{transform:translate(calc(1 * var(--square-size-tablet)), 0px);transition:transform 1s}.gamePiece-wrapper.right-1.piece-moving-appear{transform:translate(calc(-1 * var(--square-size-tablet)), 0px);transition:transform 1s}.gamePiece-wrapper.down-2.piece-moving-appear{transform:translate(0px, calc(-2 * var(--square-size-tablet)));transition:transform 1s}.gamePiece-wrapper.up-2.piece-moving-appear{transform:translate(0px, calc(2 * var(--square-size-tablet)));transition:transform 1s}.gamePiece-wrapper.left-2.piece-moving-appear{transform:translate(calc(2 * var(--square-size-tablet)), 0px);transition:transform 1s}.gamePiece-wrapper.right-2.piece-moving-appear{transform:translate(calc(-2 * var(--square-size-tablet)), 0px);transition:transform 1s}.gamePiece-wrapper.down-3.piece-moving-appear{transform:translate(0px, calc(-3 * var(--square-size-tablet)));transition:transform 1s}.gamePiece-wrapper.up-3.piece-moving-appear{transform:translate(0px, calc(3 * var(--square-size-tablet)));transition:transform 1s}.gamePiece-wrapper.left-3.piece-moving-appear{transform:translate(calc(3 * var(--square-size-tablet)), 0px);transition:transform 1s}.gamePiece-wrapper.right-3.piece-moving-appear{transform:translate(calc(-3 * var(--square-size-tablet)), 0px);transition:transform 1s}.gamePiece-wrapper.down-4.piece-moving-appear{transform:translate(0px, calc(-4 * var(--square-size-tablet)));transition:transform 1s}.gamePiece-wrapper.up-4.piece-moving-appear{transform:translate(0px, calc(4 * var(--square-size-tablet)));transition:transform 1s}.gamePiece-wrapper.left-4.piece-moving-appear{transform:translate(calc(4 * var(--square-size-tablet)), 0px);transition:transform 1s}.gamePiece-wrapper.right-4.piece-moving-appear{transform:translate(calc(-4 * var(--square-size-tablet)), 0px);transition:transform 1s}.gamePiece-wrapper.down-5.piece-moving-appear{transform:translate(0px, calc(-5 * var(--square-size-tablet)));transition:transform 1s}.gamePiece-wrapper.up-5.piece-moving-appear{transform:translate(0px, calc(5 * var(--square-size-tablet)));transition:transform 1s}.gamePiece-wrapper.left-5.piece-moving-appear{transform:translate(calc(5 * var(--square-size-tablet)), 0px);transition:transform 1s}.gamePiece-wrapper.right-5.piece-moving-appear{transform:translate(calc(-5 * var(--square-size-tablet)), 0px);transition:transform 1s}.gamePiece-wrapper.down-6.piece-moving-appear{transform:translate(0px, calc(-6 * var(--square-size-tablet)));transition:transform 1s}.gamePiece-wrapper.up-6.piece-moving-appear{transform:translate(0px, calc(6 * var(--square-size-tablet)));transition:transform 1s}.gamePiece-wrapper.left-6.piece-moving-appear{transform:translate(calc(6 * var(--square-size-tablet)), 0px);transition:transform 1s}.gamePiece-wrapper.right-6.piece-moving-appear{transform:translate(calc(-6 * var(--square-size-tablet)), 0px);transition:transform 1s}.gamePiece-wrapper.down-7.piece-moving-appear{transform:translate(0px, calc(-7 * var(--square-size-tablet)));transition:transform 1s}.gamePiece-wrapper.up-7.piece-moving-appear{transform:translate(0px, calc(7 * var(--square-size-tablet)));transition:transform 1s}.gamePiece-wrapper.left-7.piece-moving-appear{transform:translate(calc(7 * var(--square-size-tablet)), 0px);transition:transform 1s}.gamePiece-wrapper.right-7.piece-moving-appear{transform:translate(calc(-7 * var(--square-size-tablet)), 0px);transition:transform 1s}.gamePiece-wrapper.down-8.piece-moving-appear{transform:translate(0px, calc(-8 * var(--square-size-tablet)));transition:transform 1s}.gamePiece-wrapper.up-8.piece-moving-appear{transform:translate(0px, calc(8 * var(--square-size-tablet)));transition:transform 1s}.gamePiece-wrapper.left-8.piece-moving-appear{transform:translate(calc(8 * var(--square-size-tablet)), 0px);transition:transform 1s}.gamePiece-wrapper.right-8.piece-moving-appear{transform:translate(calc(-8 * var(--square-size-tablet)), 0px);transition:transform 1s}.gamePiece-wrapper.down-9.piece-moving-appear{transform:translate(0px, calc(-9 * var(--square-size-tablet)));transition:transform 1s}.gamePiece-wrapper.up-9.piece-moving-appear{transform:translate(0px, calc(9 * var(--square-size-tablet)));transition:transform 1s}.gamePiece-wrapper.left-9.piece-moving-appear{transform:translate(calc(9 * var(--square-size-tablet)), 0px);transition:transform 1s}.gamePiece-wrapper.right-9.piece-moving-appear{transform:translate(calc(-9 * var(--square-size-tablet)), 0px);transition:transform 1s}}@media(max-width: 767px){.gamePiece-wrapper.down-1.piece-moving-appear{transform:translate(0px, calc(-1 * var(--square-size-landscape)));transition:transform 1s}.gamePiece-wrapper.up-1.piece-moving-appear{transform:translate(0px, calc(1 * var(--square-size-landscape)));transition:transform 1s}.gamePiece-wrapper.left-1.piece-moving-appear{transform:translate(calc(1 * var(--square-size-landscape)), 0px);transition:transform 1s}.gamePiece-wrapper.right-1.piece-moving-appear{transform:translate(calc(-1 * var(--square-size-landscape)), 0px);transition:transform 1s}.gamePiece-wrapper.down-2.piece-moving-appear{transform:translate(0px, calc(-2 * var(--square-size-landscape)));transition:transform 1s}.gamePiece-wrapper.up-2.piece-moving-appear{transform:translate(0px, calc(2 * var(--square-size-landscape)));transition:transform 1s}.gamePiece-wrapper.left-2.piece-moving-appear{transform:translate(calc(2 * var(--square-size-landscape)), 0px);transition:transform 1s}.gamePiece-wrapper.right-2.piece-moving-appear{transform:translate(calc(-2 * var(--square-size-landscape)), 0px);transition:transform 1s}.gamePiece-wrapper.down-3.piece-moving-appear{transform:translate(0px, calc(-3 * var(--square-size-landscape)));transition:transform 1s}.gamePiece-wrapper.up-3.piece-moving-appear{transform:translate(0px, calc(3 * var(--square-size-landscape)));transition:transform 1s}.gamePiece-wrapper.left-3.piece-moving-appear{transform:translate(calc(3 * var(--square-size-landscape)), 0px);transition:transform 1s}.gamePiece-wrapper.right-3.piece-moving-appear{transform:translate(calc(-3 * var(--square-size-landscape)), 0px);transition:transform 1s}.gamePiece-wrapper.down-4.piece-moving-appear{transform:translate(0px, calc(-4 * var(--square-size-landscape)));transition:transform 1s}.gamePiece-wrapper.up-4.piece-moving-appear{transform:translate(0px, calc(4 * var(--square-size-landscape)));transition:transform 1s}.gamePiece-wrapper.left-4.piece-moving-appear{transform:translate(calc(4 * var(--square-size-landscape)), 0px);transition:transform 1s}.gamePiece-wrapper.right-4.piece-moving-appear{transform:translate(calc(-4 * var(--square-size-landscape)), 0px);transition:transform 1s}.gamePiece-wrapper.down-5.piece-moving-appear{transform:translate(0px, calc(-5 * var(--square-size-landscape)));transition:transform 1s}.gamePiece-wrapper.up-5.piece-moving-appear{transform:translate(0px, calc(5 * var(--square-size-landscape)));transition:transform 1s}.gamePiece-wrapper.left-5.piece-moving-appear{transform:translate(calc(5 * var(--square-size-landscape)), 0px);transition:transform 1s}.gamePiece-wrapper.right-5.piece-moving-appear{transform:translate(calc(-5 * var(--square-size-landscape)), 0px);transition:transform 1s}.gamePiece-wrapper.down-6.piece-moving-appear{transform:translate(0px, calc(-6 * var(--square-size-landscape)));transition:transform 1s}.gamePiece-wrapper.up-6.piece-moving-appear{transform:translate(0px, calc(6 * var(--square-size-landscape)));transition:transform 1s}.gamePiece-wrapper.left-6.piece-moving-appear{transform:translate(calc(6 * var(--square-size-landscape)), 0px);transition:transform 1s}.gamePiece-wrapper.right-6.piece-moving-appear{transform:translate(calc(-6 * var(--square-size-landscape)), 0px);transition:transform 1s}.gamePiece-wrapper.down-7.piece-moving-appear{transform:translate(0px, calc(-7 * var(--square-size-landscape)));transition:transform 1s}.gamePiece-wrapper.up-7.piece-moving-appear{transform:translate(0px, calc(7 * var(--square-size-landscape)));transition:transform 1s}.gamePiece-wrapper.left-7.piece-moving-appear{transform:translate(calc(7 * var(--square-size-landscape)), 0px);transition:transform 1s}.gamePiece-wrapper.right-7.piece-moving-appear{transform:translate(calc(-7 * var(--square-size-landscape)), 0px);transition:transform 1s}.gamePiece-wrapper.down-8.piece-moving-appear{transform:translate(0px, calc(-8 * var(--square-size-landscape)));transition:transform 1s}.gamePiece-wrapper.up-8.piece-moving-appear{transform:translate(0px, calc(8 * var(--square-size-landscape)));transition:transform 1s}.gamePiece-wrapper.left-8.piece-moving-appear{transform:translate(calc(8 * var(--square-size-landscape)), 0px);transition:transform 1s}.gamePiece-wrapper.right-8.piece-moving-appear{transform:translate(calc(-8 * var(--square-size-landscape)), 0px);transition:transform 1s}.gamePiece-wrapper.down-9.piece-moving-appear{transform:translate(0px, calc(-9 * var(--square-size-landscape)));transition:transform 1s}.gamePiece-wrapper.up-9.piece-moving-appear{transform:translate(0px, calc(9 * var(--square-size-landscape)));transition:transform 1s}.gamePiece-wrapper.left-9.piece-moving-appear{transform:translate(calc(9 * var(--square-size-landscape)), 0px);transition:transform 1s}.gamePiece-wrapper.right-9.piece-moving-appear{transform:translate(calc(-9 * var(--square-size-landscape)), 0px);transition:transform 1s}}@media(max-width: 575px){.gamePiece-wrapper.down-1.piece-moving-appear{transform:translate(0px, calc(-1 * var(--square-size-portrait)));transition:transform 1s}.gamePiece-wrapper.up-1.piece-moving-appear{transform:translate(0px, calc(1 * var(--square-size-portrait)));transition:transform 1s}.gamePiece-wrapper.left-1.piece-moving-appear{transform:translate(calc(1 * var(--square-size-portrait)), 0px);transition:transform 1s}.gamePiece-wrapper.right-1.piece-moving-appear{transform:translate(calc(-1 * var(--square-size-portrait)), 0px);transition:transform 1s}.gamePiece-wrapper.down-2.piece-moving-appear{transform:translate(0px, calc(-2 * var(--square-size-portrait)));transition:transform 1s}.gamePiece-wrapper.up-2.piece-moving-appear{transform:translate(0px, calc(2 * var(--square-size-portrait)));transition:transform 1s}.gamePiece-wrapper.left-2.piece-moving-appear{transform:translate(calc(2 * var(--square-size-portrait)), 0px);transition:transform 1s}.gamePiece-wrapper.right-2.piece-moving-appear{transform:translate(calc(-2 * var(--square-size-portrait)), 0px);transition:transform 1s}.gamePiece-wrapper.down-3.piece-moving-appear{transform:translate(0px, calc(-3 * var(--square-size-portrait)));transition:transform 1s}.gamePiece-wrapper.up-3.piece-moving-appear{transform:translate(0px, calc(3 * var(--square-size-portrait)));transition:transform 1s}.gamePiece-wrapper.left-3.piece-moving-appear{transform:translate(calc(3 * var(--square-size-portrait)), 0px);transition:transform 1s}.gamePiece-wrapper.right-3.piece-moving-appear{transform:translate(calc(-3 * var(--square-size-portrait)), 0px);transition:transform 1s}.gamePiece-wrapper.down-4.piece-moving-appear{transform:translate(0px, calc(-4 * var(--square-size-portrait)));transition:transform 1s}.gamePiece-wrapper.up-4.piece-moving-appear{transform:translate(0px, calc(4 * var(--square-size-portrait)));transition:transform 1s}.gamePiece-wrapper.left-4.piece-moving-appear{transform:translate(calc(4 * var(--square-size-portrait)), 0px);transition:transform 1s}.gamePiece-wrapper.right-4.piece-moving-appear{transform:translate(calc(-4 * var(--square-size-portrait)), 0px);transition:transform 1s}.gamePiece-wrapper.down-5.piece-moving-appear{transform:translate(0px, calc(-5 * var(--square-size-portrait)));transition:transform 1s}.gamePiece-wrapper.up-5.piece-moving-appear{transform:translate(0px, calc(5 * var(--square-size-portrait)));transition:transform 1s}.gamePiece-wrapper.left-5.piece-moving-appear{transform:translate(calc(5 * var(--square-size-portrait)), 0px);transition:transform 1s}.gamePiece-wrapper.right-5.piece-moving-appear{transform:translate(calc(-5 * var(--square-size-portrait)), 0px);transition:transform 1s}.gamePiece-wrapper.down-6.piece-moving-appear{transform:translate(0px, calc(-6 * var(--square-size-portrait)));transition:transform 1s}.gamePiece-wrapper.up-6.piece-moving-appear{transform:translate(0px, calc(6 * var(--square-size-portrait)));transition:transform 1s}.gamePiece-wrapper.left-6.piece-moving-appear{transform:translate(calc(6 * var(--square-size-portrait)), 0px);transition:transform 1s}.gamePiece-wrapper.right-6.piece-moving-appear{transform:translate(calc(-6 * var(--square-size-portrait)), 0px);transition:transform 1s}.gamePiece-wrapper.down-7.piece-moving-appear{transform:translate(0px, calc(-7 * var(--square-size-portrait)));transition:transform 1s}.gamePiece-wrapper.up-7.piece-moving-appear{transform:translate(0px, calc(7 * var(--square-size-portrait)));transition:transform 1s}.gamePiece-wrapper.left-7.piece-moving-appear{transform:translate(calc(7 * var(--square-size-portrait)), 0px);transition:transform 1s}.gamePiece-wrapper.right-7.piece-moving-appear{transform:translate(calc(-7 * var(--square-size-portrait)), 0px);transition:transform 1s}.gamePiece-wrapper.down-8.piece-moving-appear{transform:translate(0px, calc(-8 * var(--square-size-portrait)));transition:transform 1s}.gamePiece-wrapper.up-8.piece-moving-appear{transform:translate(0px, calc(8 * var(--square-size-portrait)));transition:transform 1s}.gamePiece-wrapper.left-8.piece-moving-appear{transform:translate(calc(8 * var(--square-size-portrait)), 0px);transition:transform 1s}.gamePiece-wrapper.right-8.piece-moving-appear{transform:translate(calc(-8 * var(--square-size-portrait)), 0px);transition:transform 1s}.gamePiece-wrapper.down-9.piece-moving-appear{transform:translate(0px, calc(-9 * var(--square-size-portrait)));transition:transform 1s}.gamePiece-wrapper.up-9.piece-moving-appear{transform:translate(0px, calc(9 * var(--square-size-portrait)));transition:transform 1s}.gamePiece-wrapper.left-9.piece-moving-appear{transform:translate(calc(9 * var(--square-size-portrait)), 0px);transition:transform 1s}.gamePiece-wrapper.right-9.piece-moving-appear{transform:translate(calc(-9 * var(--square-size-portrait)), 0px);transition:transform 1s}}.gamePiece-wrapper.piece-moving-enter-done.no-drag.piece-moving-appear-done{transform:translate(0px, 0px);transition:transform 1s}.gamePiece-wrapper.piece-moving,.gamePiece-wrapper.piece-moving-enter,.gamePiece-wrapper.piece-moving-enter-done,.gamePiece-wrapper.piece-moving-appear,.gamePiece-wrapper.piece-moving-appear-done{z-index:2}',""]);const o=n}}]);