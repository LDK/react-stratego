{"version":3,"sources":["Home.js","GamePiece.js","GameBoard.js","TileRack.js","Game.js","App.js","reportWebVitals.js","index.js"],"names":["Home","props","useOktaAuth","authState","oktaAuth","app","userInfo","setUserInfo","unregistered","setUnregistered","checkAuth","useEffect","login","signInWithRedirect","originalUri","LoginButton","isAuthenticated","onClick","userText","recentGames","activeGames","GamesList","list","listId","header","id","map","game","href","title","username","signOut","recent_games","active_games","className","GamePiece","rank","color","squareId","playerColor","turn","useDrag","type","canDrag","item","collect","monitor","isDragging","dragRef","ref","blockedSpaces","GameSpace","x","y","data","useDrop","accept","drop","console","log","handleDrop","isOver","dropRef","includes","Col","BoardRow","spaces","i","gameSpaces","push","Row","GameBoard","rows","JSON","parse","Container","lastChecked","TileRack","Game","game_id","useParams","useState","loaded","setLoaded","loading","setLoading","setTurn","setColor","opponent","setOpponent","redPlayer","setRedPlayer","bluePlayer","setBluePlayer","Date","now","setLastChecked","gameData","setGameData","notFound","setNotFound","requestOptions","method","headers","body","stringify","userKey","key","user_id","fetch","then","response","ok","json","starter_uid","opponent_name","starter_name","fetchGame","turnLabel","fluid","DndProvider","backend","HTML5Backend","xs","md","lg","window","location","AuthDomain","config","clientId","issuer","discoveryUri","redirectUri","endSessionRedirectUri","scopes","requireHardwareBackedKeyStore","pkce","OktaAuth","toRelativeUrl","origin","setOriginalUri","HeaderNav","to","App","args","token","getUserInfo","info","sub","email","invite_available","random_available","restoreOriginalUri","exact","path","component","LoginCallback","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f65d3345.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useOktaAuth } from '@okta/okta-react';\nimport PropTypes from \"prop-types\";\n\nexport function Home(props) {\n\tconst { authState, oktaAuth } = useOktaAuth();\n    const { userInfo, setUserInfo, unregistered, setUnregistered, checkAuth } = props.app;\n\n\tuseEffect(() => checkAuth({\n\t\tauthState: authState,\n\t\toktaAuth: oktaAuth,\n\t\tuserInfo: userInfo,\n\t\tsetUserInfo: setUserInfo,\n\t\tsetUnregistered: setUnregistered\n\t}), [authState, oktaAuth]); // Update if authState changes\n\n\tif (!authState) {\n\t\treturn (\n\t\t\t<div>Loading authentication...</div>\n\t\t);\n\t}\n\n\tconst login = () => oktaAuth.signInWithRedirect({originalUri: '/'});\n\tconst LoginButton = () => {\n\t\tif (!authState.isAuthenticated) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<button onClick={login}>Login</button>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t}\n\n\tconst logout = () => { oktaAuth.signOut(); }\n\tlet userText = '';\n\tlet recentGames = '';\n\tlet activeGames = '';\n\tconst GamesList = (list, listId, header) => {\n\t\treturn (\n\t\t\t<div id={listId}>\n\t\t\t\t<h3>{ header }</h3>\n\t\t\t\t<ul>\n\t\t\t\t\t{list.map(game => <li key={`game-${listId}-${game.id}`}><a href={\"/game/\" + game.id}>{ game.title }</a></li>)}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n\tif (authState.isAuthenticated) {\n\t\tif (unregistered) {\n\t\t\tuserText = (<div><p>If you are seeing this, I should really open a modal to create your profile, new user.</p></div>);\n\t\t}\n\t\telse if (userInfo) {\n\t\t\tuserText = (<div><p>Welcome, {userInfo.username}!</p><button onClick={ logout }>Logout</button></div>);\n\t\t\tif (userInfo.recent_games) {\n\t\t\t\trecentGames = GamesList(userInfo.recent_games, 'recent-games', 'Recent Games');\n\t\t\t}\n\t\t\tif (userInfo.active_games) {\n\t\t\t\tactiveGames = GamesList(userInfo.active_games, 'active-games', 'Active Games');\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tuserText = (<div><p>Loading user info...</p></div>);\n\t\t}\n\t}\n\telse {\n\t\tuserText = (<div><p>You need to sign in to use the application!</p><LoginButton /></div>);\n\t}\n\t\n\treturn (<div className=\"page-home\"><h1>Welcome to Stratego</h1>{ userText }{ activeGames }{ recentGames }</div>);\n}\n\nHome.propTypes = {\n  app: PropTypes.object\n};","/* eslint-disable */\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useDrag } from 'react-dnd'\n\nexport const GamePiece = (props) => {\n\tconst { rank, color, squareId, playerColor, turn } = props;\n    const [{ isDragging }, dragRef] = useDrag({\n        type: 'GamePiece',\n\t\tcanDrag: (playerColor == color || playerColor == turn),\n        item: { rank, color, squareId },\n        collect: (monitor) => ({\n            isDragging: monitor.isDragging()\n        })\n    })\n\treturn (\n\t\t<div className=\"game-piece\" ref={dragRef} data-rank={rank} data-color={color} data-square={squareId}>{ color || '' } { rank && color ? (rank || '?') : '' }{isDragging && '😱'}</div>\n\t);\n};\nGamePiece.propTypes = {\n\tcolor: PropTypes.string,\n\trank: PropTypes.any,\n\tsquareId: PropTypes.number,\n\tplayerColor: PropTypes.string\n};\n","/* eslint-disable */\nimport React from \"react\";\nimport { useDrop } from 'react-dnd';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport PropTypes from \"prop-types\";\nimport { GamePiece } from './GamePiece.js';\n\nconst blockedSpaces = [43,44,47,48,53,54,57,58];\nconst GameSpace = (props) => {\n\tconst { x, y, id, data, playerColor, turn } = props;\n\tconst handleDrop = (item) => {\n\t\tconsole.log('dropped this',item);\n\t};\n    const [{ isOver }, dropRef] = useDrop({\n        accept: 'GamePiece',\n        drop: (item) => { handleDrop(item) },\n        collect: (monitor) => ({\n            isOver: monitor.isOver()\n        })\n    })\n\tif (blockedSpaces.includes(id)) {\n\t\treturn (\n\t\t\t<Col className=\"game-space unpassable text-center\" data-x={x} data-y={y} data-id={id} data-passable={false}>X</Col>\n\t\t);\n\t}\n\tlet rank, color;\n\tif (props.data) {\n\t\trank = props.data.rank;\n\t\tcolor = props.data.color;\n\t}\n\treturn (\n\t\t<Col className=\"game-space\" data-x={x} data-y={y} data-id={id} ref={dropRef}>\n\t\t\t<GamePiece rank={rank} turn={turn} color={color} squareId={id} playerColor={playerColor} />\n\t\t</Col>\n\t);\n};\nGameSpace.propTypes = {\n\tterritory: PropTypes.string,\n\tpassable: PropTypes.any,\n\tid: PropTypes.number,\n\tx: PropTypes.number,\n\ty: PropTypes.number\n};\n\nconst BoardRow = (props) => {\n\tconst { y, spaces, playerColor, turn } = props;\n\tlet i = 1;\n\tlet gameSpaces = [];\n\twhile (i <= 10) {\n\t\tlet id = ((y - 1) * 10) + i;\n\t\tgameSpaces.push(<GameSpace turn={turn} playerColor={playerColor} key={id} y={y} x={i} id={id} data={spaces[id]} />);\n\t\ti++;\n\t}\n\treturn (\n\t\t<Row className=\"board-row\">\n\t\t\t{ gameSpaces }\n\t\t</Row>\n\t);\n};\nBoardRow.propTypes = {\n\ty: PropTypes.number\n};\nexport const GameBoard = (props) => {\n\tif (!props || !props.data) {\n\t\treturn null;\n\t}\n\tlet rows = [];\n\tlet spaces = {};\n\tif (props.data.spaces) {\n\t\tspaces = JSON.parse(props.data.spaces);\n\t}\n\tlet y = 1;\n\twhile (y <= 10) {\n\t\trows.push(<BoardRow turn={props.turn} playerColor={props.color} key={\"row-\"+y} spaces={spaces} y={y} />);\n\t\ty++;\n\t}\n\treturn (\n\t\t<Container className=\"game-board\">\n\t\t\t<p>game board, last checked { props.lastChecked }</p>\n\t\t\t{ rows }\n\t\t</Container>\n\t);\n};\nGameBoard.propTypes = {\n  lastChecked: PropTypes.any\n};\n","/* eslint-disable */\nimport React from \"react\";\nimport { useDrop } from 'react-dnd';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport PropTypes from \"prop-types\";\nimport { GamePiece } from './GamePiece.js';\n\nexport const TileRack = (props) => {\n\t// if (!props || !props.data) {\n\t// \treturn null;\n\t// }\n\n\treturn (\n\t\t<Container className=\"tile-rack\">\n\t\t\tTILE RACK\n\t\t\t<GamePiece rank={\"3\"} color={\"Blue\"} />\n\t\t</Container>\n\t);\n};\nTileRack.propTypes = {\n  lastChecked: PropTypes.any\n};\n\n","/* eslint-disable */\nimport React, { useEffect, useState } from \"react\";\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport { useParams } from \"react-router-dom\";\nimport { useOktaAuth } from '@okta/okta-react';\nimport PropTypes from \"prop-types\";\nimport { GameBoard } from './GameBoard.js';\nimport { TileRack } from './TileRack.js';\nimport { DndProvider } from 'react-dnd'\nimport { HTML5Backend } from 'react-dnd-html5-backend'\n\nexport function Game(props) {\n\tconst { game_id } = useParams();\n\tconst { authState, oktaAuth } = useOktaAuth();\n    const { userInfo, setUserInfo, unregistered, setUnregistered, checkAuth } = props.app;\n\tconst [ loaded, setLoaded ] = useState(false);\n\tconst [ loading, setLoading ] = useState(false);\n\tconst [ turn, setTurn ] = useState(null);\n\tconst [ color, setColor ] = useState(null);\n\tconst [ opponent, setOpponent ] = useState(null);\n\tconst [ redPlayer, setRedPlayer ] = useState(null);\n\tconst [ bluePlayer, setBluePlayer ] = useState(null);\n\tconst [ lastChecked, setLastChecked ] = useState(Date.now());\n\tconst [ gameData, setGameData ] = useState(null);\n\tconst [ notFound, setNotFound ] = useState(false);\n\n\tconst fetchGame = (id, userInfo) => {\n\t\tif (loaded) {\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\tconst requestOptions = {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ id: id, userKey: userInfo.key, user_id: userInfo.id })\n\t\t};\n\t\tfetch('http://localhost:3002/game', requestOptions)\n\t\t.then((response) => {\n\t\t\tif (response.ok) {\n\t\t\t\tresponse.json().then(\n\t\t\t\t\tdata => {\n\t\t\t\t\t\tsetLoaded(true);\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\tsetTurn(data.turn);\n\t\t\t\t\t\tsetColor(data.starter_uid == userInfo.id ? 'blue' : 'red');\n\t\t\t\t\t\tsetOpponent(data.starter_uid == userInfo.id ? data.opponent_name : data.starter_name);\n\t\t\t\t\t\tsetBluePlayer(data.starter_name);\n\t\t\t\t\t\tsetRedPlayer(data.opponent_name);\n\t\t\t\t\t\tsetLastChecked(Date.now());\n\t\t\t\t\t\tsetGameData(data);\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsetNotFound(true);\n\t\t\t}\n\t\t});\n\t}\n\n\tuseEffect(() => checkAuth({\n\t\tauthState: authState,\n\t\toktaAuth: oktaAuth,\n\t\tuserInfo: userInfo,\n\t\tsetUserInfo: setUserInfo,\n\t\tsetUnregistered: setUnregistered\n\t}), [authState, oktaAuth]); // Update if authState changes\n\n\tif (!authState) {\n\t\treturn (\n\t\t\t<div>Loading authentication...</div>\n\t\t);\n\t}\n\n\tif (notFound) {\n\t\treturn (\n\t\t\t<div>Sorry, no game was found with that id.</div>\n\t\t);\n\t}\n\n\tif (authState.isAuthenticated) {\n\t\tif (unregistered) {\n\t\t\treturn (<div><p>If you are seeing this, I should really open a modal to create your profile, new user.</p></div>);\n\t\t}\n\t\telse if (userInfo) {\n\t\t\tif (!loaded && !loading) {\n\t\t\t\tfetchGame(game_id, userInfo);\n\t\t\t}\n\t\t\tlet turnLabel = '';\n\t\t\tif (turn) {\n\t\t\t\tturnLabel = (<p>{ turn == 'red' ? redPlayer : bluePlayer }&apos;s turn.</p>);\n\t\t\t}\n\t\t\treturn (<Container fluid className=\"game-wrapper\">\n\t\t\t\tGame: { game_id }.\n\t\t\t\tYou are { userInfo.username }.\n\t\t\t\tYour opponent is { opponent }.\n\t\t\t\tYou use { color } tiles.\n\t\t\t\t{ turnLabel }\n\t\t\t<DndProvider backend={HTML5Backend}>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col xs={12} md={8} lg={9}>\n\t\t\t\t\t\t<GameBoard data={gameData} lastChecked={lastChecked} color={color} turn={turn} />\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col xs={12} md={4} lg={3}>\n\t\t\t\t\t\t<TileRack />\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</DndProvider>\n\t\t\t\t</Container>);\n\t\t}\n\t\telse {\n\t\t\treturn (<div><p>Loading...</p></div>);\n\t\t}\n\t}\n\telse {\n\t\twindow.location = '/';\n\t\treturn (<div><p>You need to sign in to use the application!</p></div>);\n\t}\n\n}\n\nGame.propTypes = {\n  app: PropTypes.object\n};","import './App.scss';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport React, { useState } from 'react';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\nimport { LoginCallback, Security } from '@okta/okta-react';\nimport { OktaAuth } from '@okta/okta-auth-js';\nimport { Home } from './Home';\nimport { Game } from './Game';\nimport { toRelativeUrl } from '@okta/okta-auth-js';\n\nconst ClientId = '0oa2t6lqn7Qsg1T3g5d7';\nconst AuthDomain = 'dev-6379228.okta.com';\n\nconst config = {\n  clientId: `${ClientId}`,\n  issuer: `https://${AuthDomain}/oauth2/default`,\n  discoveryUri: `https://${AuthDomain}/oauth2/default`,\n  redirectUri: 'http://localhost:3000/login-callback',\n  endSessionRedirectUri: 'http://localhost:3000/logout',\n  scopes: ['openid', 'profile', 'email'],\n  requireHardwareBackedKeyStore: false,\n  pkce: true\n};\n\nconst oktaAuth = new OktaAuth(config);\nconst originalUri = toRelativeUrl(window.location.href, window.location.origin);\noktaAuth.setOriginalUri(originalUri);\n\nconst HeaderNav = () => {\n\treturn (\n\t\t<header>\n\t\t\t<div>Stratego</div>\n\t\t\t<ul className=\"menu\"><li><Link to=\"/\">Home</Link></li></ul>\n\t\t</header>\n\t);\n};\n\nconst App = () => {\n    const [ userInfo, setUserInfo ] = useState(null);\n    const [ unregistered, setUnregistered ] = useState(false);\n\tconst restoreOriginalUri = () => {\n\t\twindow.location='/';\n\t};\n\tconst checkAuth = (args) => {\n\t\tconst { authState, oktaAuth, userInfo, setUserInfo, setUnregistered } = args;\n\t\tif (!authState || !authState.isAuthenticated) {\n\t\t\t// When user isn't authenticated, forget any user info\n\t\t\tsetUserInfo(null);\n\t\t} else {\n\t\t\tif (!userInfo || !userInfo.username) {\n\t\t\t\toktaAuth.token.getUserInfo().then(info => {\n\t\t\t\t\tconst requestOptions = {\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\t\t\tbody: JSON.stringify({ userKey: info.sub, email: info.email })\n\t\t\t\t\t};\n\t\t\t\t\tfetch('http://localhost:3002/login', requestOptions)\n\t\t\t\t\t\t.then(response => response.json())\n\t\t\t\t\t\t.then(data => {\n\t\t\t\t\t\t\tsetUserInfo({\n\t\t\t\t\t\t\t\temail: data.email,\n\t\t\t\t\t\t\t\tid: data.user_id,\n\t\t\t\t\t\t\t\tkey: info.sub,\n\t\t\t\t\t\t\t\tinvite_available: data.invite_available,\n\t\t\t\t\t\t\t\trandom_available: data.random_available,\n\t\t\t\t\t\t\t\tusername: data.username,\n\t\t\t\t\t\t\t\trecent_games: data.recentGames,\n\t\t\t\t\t\t\t\tactive_games: data.activeGames\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsetUnregistered(!data.user_id);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\tconst app = {\n\t\tuserInfo: userInfo,\n\t\tsetUserInfo: setUserInfo,\n\t\tunregistered: unregistered,\n\t\tsetUnregistered: setUnregistered,\n\t\tcheckAuth: checkAuth\n\t};\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Router>\n\t\t\t\t<HeaderNav />\n\t\t\t\t<Security oktaAuth={oktaAuth} restoreOriginalUri={restoreOriginalUri}>\n\t\t\t\t\t<Route exact path='/'>\n\t\t\t\t\t\t<Home app={app} />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path='/game/:game_id'>\n\t\t\t\t\t\t<Game app={app} />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path='/login-callback' component={LoginCallback}/>\n\t\t\t\t</Security>\n\t\t\t</Router>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}