(self.webpackChunkreact_stratego=self.webpackChunkreact_stratego||[]).push([[889,27],{878:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var r=n(7294),o=n(5697),a=n.n(o),i=n(7540),s=n(5181);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(h,e);var t,n,o,l,m,b=(l=h,m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(l);if(m){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=b.call(this,e)).state={formOpen:!1,gameId:null,gameFound:!1},t.id="JoinGame-modal",t.parentMenu=e.app.newGameMenu,t.handleSubmit=t.handleSubmit.bind(f(t)),t.updateChosen=t.updateChosen.bind(f(t)),t.closeForm=t.closeForm.bind(f(t)),e.app.JoinGameMenu=f(t),t}return t=h,o=[{key:"propTypes",get:function(){return{app:a().object}}}],(n=[{key:"closeForm",value:function(){this.setState({formOpen:!1}),this.parentMenu.setState({formOpen:!0})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props.app,n=t.state.currentUser.user_id,r=t.state.currentUser.userKey;if(!n||!r)return[];var o={user_id:n,userKey:r},a=this.state.gameId,i=this;a&&(o.game_id=a),window.fetch(t.gameServer+"join_game",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){e.text().then((function(e){e.length&&(i.setState({formOpen:!1}),t.getRequests(),t.getGames(),t.loadGame(a))}))}))}},{key:"updateChosen",value:function(e){var t=isNaN(parseInt(e))?null:parseInt(e);this.setState({gameId:t,gameFound:!isNaN(t)})}},{key:"render",value:function(){if(!this.state.formOpen)return null;var e=this.props.app,t=r.createElement("form",{action:e.gameServer+"new_game",onSubmit:this.handleSubmit},r.createElement("h3",{className:"mb-2 text-white"},"Select a game to join!"),r.createElement("div",{className:"bg-white p-3 rounded mt-3"},r.createElement(s.default,{label:"Open Games:",labelClass:"d-block fw-500",items:e.openGames,emptyOption:"- Select A Game -",emptyVal:null,view:"select",id:"openGameList",parentObj:this,className:"mb-3",callback:this.updateChosen}),r.createElement("input",{type:"submit",value:"Submit",size:"3",onClick:this.handleSubmit,disabled:!this.state.gameFound,className:"d-block pl-3 mb-3"})));return r.createElement(i.Z,{parentMenu:this,height:"auto",width:"small",content:t,styles:{backgroundColor:"var(--water)"},additionalClasses:"text-black"})}}])&&c(t.prototype,n),o&&c(t,o),h}(r.Component)},5181:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var r=n(7294),o=n(5697),a=n.n(o),i=n(361),s=n.n(i);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(b,e);var t,n,o,i,l,m=(i=b,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(i);if(l){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function b(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),(t=m.call(this,e)).callback=t.callback.bind(f(t)),t.afterCallback=t.afterCallback.bind(f(t)),t.renderSelect=t.renderSelect.bind(f(t)),t.renderList=t.renderList.bind(f(t)),t.linkList=t.linkList.bind(f(t)),t.state={value:e.value||null,label:e.label||"",items:e.items||[]},e.parentObj&&e.refName?e.parentObj[e.refName]=f(t):e.parentObj&&(e.parentObj.dataBrowser=f(t)),t}return t=b,o=[{key:"propTypes",get:function(){return{value:a().any,id:a().string,view:a().string,label:a().string,labelClass:a().string,className:a().string,items:a().array,links:a().array,parentObj:a().object,refName:a().string,beforeText:a().string,callback:a().func,afterCallback:a().func,afterArgKey:a().any,onSelect:a().func,emptyOption:a().string,deleteEmpty:a().bool,afterLinks:a().array,afterKeys:a().object,afterKeysSep:a().string,afterParentheses:a().bool,beforeLinks:a().bool,hideIfEmpty:a().bool,disabled:a().bool,emptyVal:a().any,additionalClasses:a().string}}}],(n=[{key:"callback",value:function(e){var t;t=e.target.hasAttribute("data-key")?e.target.getAttribute("data-key"):e.target.value,this.setState({value:t}),this.props.callback&&this.props.callback(t),this.render()}},{key:"afterCallback",value:function(){}},{key:"renderSelect",value:function(e,t){var n=this,o=this.callback,a=this.props.items;this.props.emptyOption&&(a=s()(this.props.items)).unshift({id:null,name:this.props.emptyOption});var i=a.map((function(e,t){return r.createElement("option",{key:t,value:e.id||n.props.emptyVal||"",onClick:n.props.onSelect||null},e.name)}));return r.createElement("div",{className:t},r.createElement("label",{className:this.props.labelClass},this.state.label),r.createElement("select",{onChange:o,id:e,value:this.state.value||""},i))}},{key:"linkList",value:function(e,t,n,o){var a=this.props[e].map((function(e,a){return r.createElement("li",{key:a,className:e.className},r.createElement("a",{className:"anchor underline",onClick:function(){return e.action(e.argKey?n[o][e.argKey]:t)}},e.label))}));return r.createElement("div",{className:"d-inline"},"[",r.createElement("ul",{className:"link-list px-1"},a),"]")}},{key:"renderList",value:function(e,t){var n,o=this,a=this.callback,i=this.props.items;if(this.props.deleteEmpty)for(var s in i)i[s].name||delete i[s];if(this.props.afterLinks)n=i.map((function(e,t){return r.createElement("li",{key:t},e.name," ",o.linkList("afterLinks",e.id,i,t))}));else if(this.props.beforeLinks)n=i.map((function(e,t){return r.createElement("li",{key:t},e.name," ",o.linkList("beforeLinks",e.id))}));else if(this.props.beforeText)n=i.map((function(e,t){return r.createElement("li",{key:t},o.props.beforeText," ",e.name)}));else{var l=null;for(var c in n=[],i){var u=i[c];if(u.buttons){var p=u.buttons.map((function(e,t){return r.createElement("li",{key:t,className:"mr-3 py-2"},r.createElement("a",{className:"button","data-type":e.type||"undefined","data-mode":e.mode||"undefined","data-id":e.id||"null",onClick:e.action},e.label))}));l=r.createElement("div",{"data-key":u.id},r.createElement("span",null,u.name),r.createElement("ul",{className:"item-buttons"},p))}else{var f="";if(this.props.afterKeys){var y=this.props.afterKeysSep||",",m=0;for(var b in this.props.afterKeys)u[b]&&(m&&(f+=y+" "),m++,f+=this.props.afterKeys[b].replace("%this%",u[b])+" "),f=f.trim();if(f.length){var h="",d="";this.props.afterParentheses&&(h="(",d=")"),f=" "+h+f+d}}l=r.createElement("a",{onClick:u.onSelect||a,className:"anchor underline","data-key":u.id},u.name),this.props.afterCallback&&(f=r.createElement("a",{className:"anchor",onClick:function(){return o.props.afterCallback(u[o.props.afterArgKey||b])}},f))}n.push(r.createElement("li",{key:c,className:u.className},l,f))}}return r.createElement("div",{className:t,id:this.props.id||null},r.createElement("label",{className:this.props.labelClass},this.state.label),r.createElement("ul",{id:e},n))}},{key:"render",value:function(){var e,t=this.props.view||"list",n="dataBrowser"+(this.props.disabled?" disabled ":" ")+(this.props.className||""),r=this.props.id||"";if(this.props.hideIfEmpty&&(!this.props.items||!this.props.items.length))return null;switch(t){case"select":e=this.renderSelect(r,n);break;case"list":default:e=this.renderList(r,n)}return e}}])&&c(t.prototype,n),o&&c(t,o),b}(r.Component)},7540:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(7294),o=n(5697),a=n.n(o),i=n(6347);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(b,e);var t,n,o,s,y,m=(s=b,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(s);if(y){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function b(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),(t=m.call(this,e)).onKeyDown=t.onKeyDown.bind(p(t)),t.closeForm=t.closeForm.bind(p(t)),t}return t=b,o=[{key:"propTypes",get:function(){return{parentMenu:a().object,content:a().any,styles:a().object,height:a().string,width:a().string,additionalClasses:a().string}}}],(n=[{key:"closeForm",value:function(){this.props.parentMenu.closeForm?this.props.parentMenu.closeForm():this.props.parentMenu.setState({formOpen:!1})}},{key:"onKeyDown",value:function(e){if(e.keyCode)switch(e.keyCode){case this.props.parentMenu.props.app.Config.KeyCodes.esc:this.closeForm()}}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.parentMenu.props.app,o={};return e.styles&&(o=e.styles),r.createElement(i.Z,{id:e.parentMenu.id,app:n,content:t,height:e.height||"medium",width:e.width||"medium",open:e.parentMenu.state.formOpen,closeButton:!0,closeCallback:this.closeForm,onKeyDown:this.onKeyDown,styles:o,additionalClasses:"p-md-5 "+e.additionalClasses||0})}}])&&l(t.prototype,n),o&&l(t,o),b}(r.Component)},6347:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(7294),o=n(5697),a=n.n(o);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(m,e);var t,n,o,i,f,y=(i=m,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(i);if(f){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=y.call(this,e)).state={},t.onKeyDown=t.onKeyDown.bind(u(t)),e.app.activeModal=u(t),t}return t=m,o=[{key:"propTypes",get:function(){return{app:a().object,open:a().bool,onKeyDown:a().func,closeButton:a().any,content:a().element,closeCallback:a().func,styles:a().object,height:a().string,width:a().string,additionalClasses:a().string,id:a().any}}}],(n=[{key:"onKeyDown",value:function(e){if(this.props.onKeyDown)return this.props.onKeyDown(e)}},{key:"componentDidMount",value:function(){this.modalContainer.focus()}},{key:"componentWillUnmount",value:function(){this.props.app.activeModal=null}},{key:"render",value:function(){var e=this,t=this.props.content,n=this.props,o=n.additionalClasses+" modal-wrapper";n.height&&(o+=" height-"+n.height),n.width&&(o+=" width-"+n.width);var a="";n.closeButton&&(a=r.createElement("a",{className:"close-button button",onClick:n.closeCallback},"X"));var i={};return n.styles&&(i=n.styles),r.createElement("section",{id:n.id||null,ref:function(t){e.modalContainer=t},className:"modal-container "+(n.open?" open":""),onKeyDown:this.onKeyDown},r.createElement("div",{className:"modal-overlay"}),r.createElement("div",{className:o,style:i},a,t))}}])&&s(t.prototype,n),o&&s(t,o),m}(r.Component)}}]);