(self.webpackChunkreact_stratego=self.webpackChunkreact_stratego||[]).push([[59],{4772:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(7294),o=n(5697),a=n.n(o),i=n(6713);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(m,e);var t,n,o,s,y,h=(s=m,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(s);if(y){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function m(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=h.call(this,e)).state={captured:e.captured||!1,placed:e.placed||!1},e.rank&&e.game){var n=e.game.props.app.Config.Pieces[e.rank],r=n.name,o=n.rackOrder,a=n.move,i=n.capture,s=n.defuse;t.name=r,t.rackOrder=o,t.move=a,t.capture=i||null,t.defuse=s||!1}return t.pieceClicked=t.pieceClicked.bind(u(t)),t}return t=m,o=[{key:"propTypes",get:function(){return{captured:a().bool,placed:a().bool,rank:a().any,game:a().object,gameSpaceId:a().number,x:a().number,y:a().number,fromX:a().number,fromY:a().number,className:a().string,wrapperClass:a().string,color:a().string,moveInfo:a().object}}}],(n=[{key:"pieceClicked",value:function(){var e=this.props.game,t=e.props.app,n=t.gameBoard;if(this.props.placed&&this.props.gameSpaceId&&e&&"click"==e.state.placementMode&&!e.selectedRank&&!e.state.started)if(n.state.selectedSpace){var o=Math.ceil(parseInt(this.props.gameSpaceId)/10);(o<5?"red":o>6?"blue":"neutral")==t.tileRack.playerColor&&n.swapPieces(this.props.gameSpaceId,n.state.selectedSpace),n.highlightSpace(null),n.selectSpace(null),e.resetHelpText()}else n.selectSpace(this.props.gameSpaceId),n.highlightSpace(this.props.gameSpaceId),e.setHelpText("Click any space to move the selected tile there.");else if(this.props.placed||!e||e.state.started||"click"!=e.state.placementMode){if(this.props.placed&&e&&!e.state.started&&"erase"==e.state.placementMode)t.tileRack.returnTileToRack(e,t,this.props.gameSpaceId),e.resetHelpText();else if(t.isMobile&&e&&e.state.started&&this.props.placed&&e.state.turn==t.tileRack.playerColor&&t.tileRack.playerColor==this.props.color){n.selectSpace(this.props.gameSpaceId),n.highlightSpace(this.props.gameSpaceId),n.clearDroppables();var a=n.getValidMoveSpaces(this.props.fromX,this.props.fromY,this.props.color,this,e);for(var i in a){var s=a[i];s!=this.props.gameSpaceId&&(n.droppable[s]=!0,n.resetSpace(s))}a.length?2==a.length?e.setHelpText("Tap the highlighted square to move there."):1==a.length?e.setHelpText({headline:"No moves are available",subtext:"Please choose another piece."}):e.setHelpText("Tap any of the highlighted squares to move there."):e.setHelpText("No valid moves.  Try selecting another piece.")}}else{e.selectedRank=e.selectedRank!=this.props.rank?this.props.rank:null;var c=t.isMobile?"Tap":"Click";t.tileRack&&t.tileRack.remaining&&e.selectedRank?e.setHelpText(r.createElement("div",null,c+" a square to place a ",r.createElement("div",{className:"d-inline-block position-relative tileFace rank-"+this.props.rank}))):e.resetHelpText(),t.tileRack.setState({})}}},{key:"render",value:function(){var e="gamePiece text-center mx-auto"+(this.props.className||""),t="gamePiece-wrapper "+(this.props.wrapperClass||"");t=t.trim();var n="";e=e.trim();var o="";return this.props.moveInfo&&(n=" "+this.props.moveInfo.direction+"-"+this.props.moveInfo.distance),this.props.rank?o=r.createElement("div",{className:"tileFace rank-"+this.props.rank}):t+=" no-drag",r.createElement(i.Z,{in:this.props.moveInfo&&this.props.game.state.started,timeout:1e3,classNames:"piece-moving",appear:!0},r.createElement("div",{className:t+n,onClick:this.pieceClicked},r.createElement("div",{className:e+" "+this.props.color},o)))}}])&&c(t.prototype,n),o&&c(t,o),m}(r.Component)},6347:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(7294),o=n(5697),a=n.n(o);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(h,e);var t,n,o,i,f,y=(i=h,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(i);if(f){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=y.call(this,e)).state={},t.onKeyDown=t.onKeyDown.bind(p(t)),e.app.activeModal=p(t),t}return t=h,o=[{key:"propTypes",get:function(){return{app:a().object,open:a().bool,onKeyDown:a().func,closeButton:a().any,content:a().element,closeCallback:a().func,styles:a().object,height:a().string,width:a().string,additionalClasses:a().string,id:a().any}}}],(n=[{key:"onKeyDown",value:function(e){if(this.props.onKeyDown)return this.props.onKeyDown(e)}},{key:"componentDidMount",value:function(){this.modalContainer.focus()}},{key:"componentWillUnmount",value:function(){this.props.app.activeModal=null}},{key:"render",value:function(){var e=this,t=this.props.content,n=this.props,o=n.additionalClasses+" modal-wrapper";n.height&&(o+=" height-"+n.height),n.width&&(o+=" width-"+n.width);var a="";n.closeButton&&(a=r.createElement("a",{className:"close-button button",onClick:n.closeCallback},"X"));var i={};return n.styles&&(i=n.styles),r.createElement("section",{id:n.id||null,ref:function(t){e.modalContainer=t},className:"modal-container "+(n.open?" open":""),onKeyDown:this.onKeyDown},r.createElement("div",{className:"modal-overlay"}),r.createElement("div",{className:o,style:i},a,t))}}])&&s(t.prototype,n),o&&s(t,o),h}(r.Component)},5602:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>T});var r=n(7294),o=n(5697),a=n.n(o),i=n(6347),s=n(3379),c=n.n(s),l=n(6267);c()(l.Z,{insert:"head",singleton:!1}),l.Z.locals;var p=n(682),u=n(4051),f=n(1555);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(l,e);var t,n,o,i,s,c=(i=l,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(i);if(s){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this,e)).state={openTab:e.defaultTab||(e.contents[0]?e.contents[0].id:null)},t.tabClick=t.tabClick.bind(d(t)),t}return t=l,o=[{key:"propTypes",get:function(){return{contents:a().array,showArrows:a().bool,app:a().object,wrapperClasses:a().string,defaultTab:a().string}}}],(n=[{key:"tabClick",value:function(e){var t;t=e.target.classList.contains("tab")?e.target.attributes.rel.value:e.target.parentElement.attributes.rel.value,this.setState({openTab:t})}},{key:"render",value:function(){var e=[],t=null,n={};for(var o in this.props.contents)t=this.props.contents[o],e.push(r.createElement("li",{rel:t.id,key:t.id,onClick:this.tabClick,className:"tab"+(this.state.openTab==t.id?" active":"")},r.createElement("label",null,t.label))),n[t.id]=t.content;return r.createElement(p.Z,{fluid:!0,className:"tabs {wrapperClasses} h-100"},r.createElement(u.Z,{noGutters:!0},r.createElement(f.Z,{xs:12,as:"ul",className:"tab-list"},e)),r.createElement(u.Z,{className:"content row no-gutters"},n[this.state.openTab]))}}])&&h(t.prototype,n),o&&h(t,o),l}(r.Component);var k=n(4772),w=n(9632),C=n.n(w),x=n(4929);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}c()(x.Z,{insert:"head",singleton:!1}),x.Z.locals;const T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(p,e);var t,n,o,s,c,l=(s=p,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=R(s);if(c){var n=R(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=l.call(this,e)).onKeyDown=t.onKeyDown.bind(P(t)),t.closeModal=t.closeModal.bind(P(t)),t.state={modalOpen:!1},e.app.RulesModal=P(t),t}return t=p,o=[{key:"propTypes",get:function(){return{content:a().any,styles:a().object,height:a().string,width:a().string,additionalClasses:a().string,app:a().object}}}],(n=[{key:"closeModal",value:function(){this.setState({modalOpen:!1})}},{key:"onKeyDown",value:function(e){if(e.keyCode)switch(e.keyCode){case this.props.app.Config.KeyCodes.esc:this.closeModal()}}},{key:"render",value:function(){var e=this.props,t=e.app;if(!t.Config)return null;var n=[],o=function(){s=t.Config.Text.Rules.pages[a];var e=[],o=void 0,i=void 0,u=[];for(c in t.Config.Pieces)u.push("**"+t.Config.Pieces[c].name+"**"),u.push("**"+t.Config.Pieces[c].name+"s**");for(l in s.paragraphs)if("paragraph"==s.paragraphs[l].type){var f=s.paragraphs[l].text;for(i in t.Config.Pieces)o=String(i).toLowerCase(),f=C()(f,"**"+t.Config.Pieces[i].name+"**",(function(){return r.createElement("strong",{key:"single-"+t.Config.Pieces[i].name},t.Config.Pieces[i].name)})),f=C()(f,"**"+t.Config.Pieces[i].name+"s**",(function(){return r.createElement("strong",{key:"plural-"+t.Config.Pieces[i].name},t.Config.Pieces[i].name+"s")})),f=C()(f,"[piece:rank-"+o+"]",(function(){return r.createElement(k.Z,{color:"blue",key:i+"-par",rank:i,wrapperClass:"d-inline-block float-right mr-md-5"})}));e.push(r.createElement("div",{className:"mb-3",key:l},f))}else if("list"==s.paragraphs[l].type){var y=void 0,h=[];for(p in s.paragraphs[l].items){for(i in y=s.paragraphs[l].items[p],y=C()(y,"**Bombs**",(function(){return r.createElement("strong",{key:"bomb"},"Bombs")})),t.Config.Pieces)o=String(i).toLowerCase(),y=C()(y,"**"+t.Config.Pieces[i].name+"**",(function(){return r.createElement("strong",{key:l+"-1-"+p},t.Config.Pieces[i].name)})),y=C()(y,"**"+t.Config.Pieces[i].name+"s**",(function(){return r.createElement("strong",{key:l+"-2-"+p},t.Config.Pieces[i].name+"s")})),y=C()(y,"[piece:rank-"+o+"]",(function(){return r.createElement(k.Z,{color:"blue",rank:i,key:i+"-list",wrapperClass:"d-inline-block float-right mr-md-5"})}));h.push(r.createElement("li",{key:l+"-"+p,className:s.paragraphs[l].itemClass},y))}e.push(r.createElement("ul",{className:"row px-3",key:l},h))}n.push({key:s.id,id:s.id,label:s.label,content:r.createElement("article",null,r.createElement("h2",{className:"mb-3"},s.heading),e)})};for(var a in t.Config.Text.Rules.pages){var s,c,l,p;o()}var u=r.createElement(v,{app:t,showArrows:!1,contents:n}),f={};return e.styles&&(f=e.styles),r.createElement(i.Z,{id:"rules-modal",app:t,content:u,height:"xlarge",width:"large",open:this.state.modalOpen,closeButton:!0,closeCallback:this.closeModal,onKeyDown:this.onKeyDown,styles:f,additionalClasses:"pt-5 "+e.additionalClasses})}}])&&S(t.prototype,n),o&&S(t,o),p}(r.Component)},4929:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"#rules-modal article{height:100%;width:100%}#rules-modal ul{list-style:none}",""]);const a=o},6267:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".tabs{position:relative}.tabs .tab-list{display:flex;position:absolute;bottom:0;left:0;border-radius:5px;background:#fff;list-style:none;height:56px;margin:0}.tabs .tab-list li{flex:1;padding:12px;text-align:center;cursor:pointer;opacity:.5;background-color:#b1c3e6;transition:opacity 180ms ease-out;outline:0}.tabs .tab-list li:hover,.tabs .tab-list li.active{opacity:1}.tabs .content.row{margin:0 0 56px 0;padding-left:1rem;padding-right:1rem;overflow:scroll;max-height:calc(100% - 56px - 1rem)}",""]);const a=o},2705:(e,t,n)=>{var r=n(5639).Symbol;e.exports=r},9932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},2488:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},1078:(e,t,n)=>{var r=n(2488),o=n(7285);e.exports=function e(t,n,a,i,s){var c=-1,l=t.length;for(a||(a=o),s||(s=[]);++c<l;){var p=t[c];n>0&&a(p)?n>1?e(p,n-1,a,i,s):r(s,p):i||(s[s.length]=p)}return s}},4239:(e,t,n)=>{var r=n(2705),o=n(9607),a=n(2333),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):a(e)}},9454:(e,t,n)=>{var r=n(4239),o=n(7005);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},3933:(e,t,n)=>{var r=n(4239),o=n(7005);e.exports=function(e){return o(e)&&"[object RegExp]"==r(e)}},531:(e,t,n)=>{var r=n(2705),o=n(9932),a=n(1469),i=n(3448),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return o(t,e)+"";if(i(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},1957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},9607:(e,t,n)=>{var r=n(2705),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=i.call(e);return r&&(t?e[s]=n:delete e[s]),o}},7285:(e,t,n)=>{var r=n(2705),o=n(5694),a=n(1469),i=r?r.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||o(e)||!!(i&&e&&e[i])}},1167:(e,t,n)=>{e=n.nmd(e);var r=n(1957),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,i=a&&a.exports===o&&r.process,s=function(){try{return a&&a.require&&a.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=s},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:(e,t,n)=>{var r=n(1957),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},3522:(e,t,n)=>{var r=n(9833),o=/[\\^$.*+?()[\]{}|]/g,a=RegExp(o.source);e.exports=function(e){return(e=r(e))&&a.test(e)?e.replace(o,"\\$&"):e}},5564:(e,t,n)=>{var r=n(1078);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},5694:(e,t,n)=>{var r=n(9454),o=n(7005),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},1469:e=>{var t=Array.isArray;e.exports=t},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},7895:(e,t,n)=>{var r=n(3933),o=n(1717),a=n(1167),i=a&&a.isRegExp,s=i?o(i):r;e.exports=s},7037:(e,t,n)=>{var r=n(4239),o=n(1469),a=n(7005);e.exports=function(e){return"string"==typeof e||!o(e)&&a(e)&&"[object String]"==r(e)}},3448:(e,t,n)=>{var r=n(4239),o=n(7005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},9833:(e,t,n)=>{var r=n(531);e.exports=function(e){return null==e?"":r(e)}},9632:(e,t,n)=>{var r=n(7895),o=n(3522),a=n(7037),i=n(5564);e.exports=function(e,t,n){return Array.isArray(e)||(e=[e]),i(e.map((function(e){return a(e)?function(e,t,n){var i=0,s=0;if(""===e)return e;if(!e||!a(e))throw new TypeError("First argument to react-string-replace#replaceString must be a string");var c=t;r(c)||(c=new RegExp("("+o(c)+")","gi"));for(var l=e.split(c),p=1,u=l.length;p<u;p+=2)s=l[p].length,i+=l[p-1].length,l[p]=n(l[p],p,i),i+=s;return l}(e,t,n):e})))}}}]);