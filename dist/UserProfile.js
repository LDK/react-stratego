(self.webpackChunkreact_stratego=self.webpackChunkreact_stratego||[]).push([[918,27],{8332:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(7294),o=n(5697),a=n.n(o),i=n(7540),s=n(5181),l=n(5975);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(b,e);var t,n,o,c,h,d=(c=b,h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(c);if(h){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function b(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),(t=d.call(this,e)).state={username:"",uid:null,formOpen:!1,wins:0,losses:0,forfeits:0,join_date:null,last_active:null,headtohead:null,recentGames:null},t.id="userProfile-modal",e.app.userProfile=y(t),t}return t=b,o=[{key:"propTypes",get:function(){return{app:a().object}}}],(n=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){if(!this.state.formOpen)return null;var e=this.props.app,t="",n="";this.state.join_date&&(t=(0,l.hj)(this.state.join_date)),this.state.last_active&&(n=(0,l.Ql)(1e3*this.state.last_active));var o=null;this.state.headtohead&&(o=r.createElement("div",{className:"mb-3"},r.createElement("h5",null,"Head-to-Head History"),r.createElement("h6",null,"Advantage: ",this.state.advantage.replace("[%you]",e.state.currentUser.username)),r.createElement(s.default,{sublabel:"Advantage: "+this.state.advantage,items:this.state.headtohead,afterKeys:{winner:"Winner: %this%"},afterParentheses:!0,view:"list",callback:e.loadGame,id:"profileHTHGameList",deleteEmpty:!0,hideIfEmpty:!0})));var a=r.createElement("div",{id:"user-profile"},r.createElement("h2",null,"Profile: ",this.state.username),r.createElement("p",null,r.createElement("label",null,"Joined: ")," ",r.createElement("span",null,t)),r.createElement("p",null,r.createElement("label",null,"Last Active: ")," ",r.createElement("span",null,n)),r.createElement("p",null,this.state.wins," wins, ",this.state.losses," losses with ",this.state.forfeits," forfeits"),r.createElement("div",{className:"mb-4"},r.createElement("h5",null,"Recently Finished Games"),r.createElement(s.default,{items:this.state.recentGames,afterKeys:{winner:"Winner: %this%"},afterParentheses:!0,view:"list",callback:e.loadGame,id:"profileRecentGameList",deleteEmpty:!0,hideIfEmpty:!0})),o);return r.createElement(i.Z,{parentMenu:this,content:a,styles:{backgroundColor:"var(--water)"},additionalClasses:"text-white"})}}])&&u(t.prototype,n),o&&u(t,o),b}(r.Component)},5181:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var r=n(7294),o=n(5697),a=n.n(o),i=n(361),s=n.n(i);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(h,e);var t,n,o,i,l,m=(i=h,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(i);if(l){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=m.call(this,e)).callback=t.callback.bind(p(t)),t.afterCallback=t.afterCallback.bind(p(t)),t.renderSelect=t.renderSelect.bind(p(t)),t.renderList=t.renderList.bind(p(t)),t.linkList=t.linkList.bind(p(t)),t.state={value:e.value||null,label:e.label||"",items:e.items||[]},e.parentObj&&e.refName?e.parentObj[e.refName]=p(t):e.parentObj&&(e.parentObj.dataBrowser=p(t)),t}return t=h,o=[{key:"propTypes",get:function(){return{value:a().any,id:a().string,view:a().string,label:a().string,labelClass:a().string,className:a().string,items:a().array,links:a().array,parentObj:a().object,refName:a().string,beforeText:a().string,callback:a().func,afterCallback:a().func,afterArgKey:a().any,onSelect:a().func,emptyOption:a().string,deleteEmpty:a().bool,afterLinks:a().array,afterKeys:a().object,afterKeysSep:a().string,afterParentheses:a().bool,beforeLinks:a().bool,hideIfEmpty:a().bool,disabled:a().bool,emptyVal:a().any,additionalClasses:a().string}}}],(n=[{key:"callback",value:function(e){var t;t=e.target.hasAttribute("data-key")?e.target.getAttribute("data-key"):e.target.value,this.setState({value:t}),this.props.callback&&this.props.callback(t),this.render()}},{key:"afterCallback",value:function(){}},{key:"renderSelect",value:function(e,t){var n=this,o=this.callback,a=this.props.items;this.props.emptyOption&&(a=s()(this.props.items)).unshift({id:null,name:this.props.emptyOption});var i=a.map((function(e,t){return r.createElement("option",{key:t,value:e.id||n.props.emptyVal||"",onClick:n.props.onSelect||null},e.name)}));return r.createElement("div",{className:t},r.createElement("label",{className:this.props.labelClass},this.state.label),r.createElement("select",{onChange:o,id:e,value:this.state.value||""},i))}},{key:"linkList",value:function(e,t,n,o){var a=this.props[e].map((function(e,a){return r.createElement("li",{key:a,className:e.className},r.createElement("a",{className:"anchor underline",onClick:function(){return e.action(e.argKey?n[o][e.argKey]:t)}},e.label))}));return r.createElement("div",{className:"d-inline"},"[",r.createElement("ul",{className:"link-list px-1"},a),"]")}},{key:"renderList",value:function(e,t){var n,o=this,a=this.callback,i=this.props.items;if(this.props.deleteEmpty)for(var s in i)i[s].name||delete i[s];if(this.props.afterLinks)n=i.map((function(e,t){return r.createElement("li",{key:t},e.name," ",o.linkList("afterLinks",e.id,i,t))}));else if(this.props.beforeLinks)n=i.map((function(e,t){return r.createElement("li",{key:t},e.name," ",o.linkList("beforeLinks",e.id))}));else if(this.props.beforeText)n=i.map((function(e,t){return r.createElement("li",{key:t},o.props.beforeText," ",e.name)}));else{var l=null;for(var c in n=[],i){var u=i[c];if(u.buttons){var f=u.buttons.map((function(e,t){return r.createElement("li",{key:t,className:"mr-3 py-2"},r.createElement("a",{className:"button","data-type":e.type||"undefined","data-mode":e.mode||"undefined","data-id":e.id||"null",onClick:e.action},e.label))}));l=r.createElement("div",{"data-key":u.id},r.createElement("span",null,u.name),r.createElement("ul",{className:"item-buttons"},f))}else{var p="";if(this.props.afterKeys){var y=this.props.afterKeysSep||",",m=0;for(var h in this.props.afterKeys)u[h]&&(m&&(p+=y+" "),m++,p+=this.props.afterKeys[h].replace("%this%",u[h])+" "),p=p.trim();if(p.length){var d="",b="";this.props.afterParentheses&&(d="(",b=")"),p=" "+d+p+b}}l=r.createElement("a",{onClick:u.onSelect||a,className:"anchor underline","data-key":u.id},u.name),this.props.afterCallback&&(p=r.createElement("a",{className:"anchor",onClick:function(){return o.props.afterCallback(u[o.props.afterArgKey||h])}},p))}n.push(r.createElement("li",{key:c,className:u.className},l,p))}}return r.createElement("div",{className:t,id:this.props.id||null},r.createElement("label",{className:this.props.labelClass},this.state.label),r.createElement("ul",{id:e},n))}},{key:"render",value:function(){var e,t=this.props.view||"list",n="dataBrowser"+(this.props.disabled?" disabled ":" ")+(this.props.className||""),r=this.props.id||"";if(this.props.hideIfEmpty&&(!this.props.items||!this.props.items.length))return null;switch(t){case"select":e=this.renderSelect(r,n);break;case"list":default:e=this.renderList(r,n)}return e}}])&&c(t.prototype,n),o&&c(t,o),h}(r.Component)},7540:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(7294),o=n(5697),a=n.n(o),i=n(6347);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(h,e);var t,n,o,s,y,m=(s=h,y=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(s);if(y){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=m.call(this,e)).onKeyDown=t.onKeyDown.bind(f(t)),t.closeForm=t.closeForm.bind(f(t)),t}return t=h,o=[{key:"propTypes",get:function(){return{parentMenu:a().object,content:a().any,styles:a().object,height:a().string,width:a().string,additionalClasses:a().string}}}],(n=[{key:"closeForm",value:function(){this.props.parentMenu.closeForm?this.props.parentMenu.closeForm():this.props.parentMenu.setState({formOpen:!1})}},{key:"onKeyDown",value:function(e){if(e.keyCode)switch(e.keyCode){case this.props.parentMenu.props.app.Config.KeyCodes.esc:this.closeForm()}}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.parentMenu.props.app,o={};return e.styles&&(o=e.styles),r.createElement(i.Z,{id:e.parentMenu.id,app:n,content:t,height:e.height||"medium",width:e.width||"medium",open:e.parentMenu.state.formOpen,closeButton:!0,closeCallback:this.closeForm,onKeyDown:this.onKeyDown,styles:o,additionalClasses:"p-md-5 "+e.additionalClasses||0})}}])&&l(t.prototype,n),o&&l(t,o),h}(r.Component)},6347:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(7294),o=n(5697),a=n.n(o);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(m,e);var t,n,o,i,p,y=(i=m,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=f(i);if(p){var n=f(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=y.call(this,e)).state={},t.onKeyDown=t.onKeyDown.bind(u(t)),e.app.activeModal=u(t),t}return t=m,o=[{key:"propTypes",get:function(){return{app:a().object,open:a().bool,onKeyDown:a().func,closeButton:a().any,content:a().element,closeCallback:a().func,styles:a().object,height:a().string,width:a().string,additionalClasses:a().string,id:a().any}}}],(n=[{key:"onKeyDown",value:function(e){if(this.props.onKeyDown)return this.props.onKeyDown(e)}},{key:"componentDidMount",value:function(){this.modalContainer.focus()}},{key:"componentWillUnmount",value:function(){this.props.app.activeModal=null}},{key:"render",value:function(){var e=this,t=this.props.content,n=this.props,o=n.additionalClasses+" modal-wrapper";n.height&&(o+=" height-"+n.height),n.width&&(o+=" width-"+n.width);var a="";n.closeButton&&(a=r.createElement("a",{className:"close-button button",onClick:n.closeCallback},"X"));var i={};return n.styles&&(i=n.styles),r.createElement("section",{id:n.id||null,ref:function(t){e.modalContainer=t},className:"modal-container "+(n.open?" open":""),onKeyDown:this.onKeyDown},r.createElement("div",{className:"modal-overlay"}),r.createElement("div",{className:o,style:i},a,t))}}])&&s(t.prototype,n),o&&s(t,o),m}(r.Component)}}]);